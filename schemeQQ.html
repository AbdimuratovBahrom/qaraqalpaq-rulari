<!DOCTYPE html>
<html lang="kaa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qaraqalpaq urƒ±wlarƒ± | Shema</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --gold: #d4af37;
            --bg: #0a0c10;
            --bg-card: #151923;
            --text: #ffffff;

             --primary-bg: #0f1419;
            --secondary-bg: #1a1f2e;
             --primary-bg: #0f1419;
            --secondary-bg: #1a1f2e;
            --accent-red: #e74c3c;
            --accent-orange: #e67e22;
            --accent-yellow: #f1c40f;
            --gold: #f1c40f;
            --accent-green: #2ecc71;
            --accent-blue: #3498db;
            --accent-purple: #9b59b6;
            --accent-cyan: #1abc9c;
            --text-primary: #ecf0f1;
            --text-secondary: #bdc3c7;
            --border-color: #34495e;
            
            /* D√°reje t√∫stleri */
            --tust-xaliq: #e74c3c;
            --tust-aris: #e67e22;
            --tust-bolim: #f1c40f;
            --tust-ulken: #2ecc71;
            --tust-uruw: #3498db;
            --tust-tiyre: #9b59b6;
            --tust-koshe: #1abc9c;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: var(--bg); color: var(--text); overflow: hidden; }
        
      header {
            position: fixed;
            top: 0; left: 0; right: 0;
            background: rgba(10,12,16,0.95);
            border-bottom: 2px solid var(--gold);
            padding: 1rem 2rem;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            backdrop-filter: blur(10px);
            height: 70px;
        }

        .logo { 
            display: flex; 
            align-items: center; 
            gap: 10px;
        }
        
        .logo a { 
            font-family: 'Cormorant Garamond', serif; 
            color: var(--gold); 
            font-size: 1.8rem; 
            margin: 0;
            text-decoration: none;
        }
        
        
        /* Burger menyu */
        .burger-menu {
            display: none;
            flex-direction: column;
            justify-content: space-around;
            width: 30px;
            height: 25px;
            background: transparent;
            border: none;
            cursor: pointer;
            padding: 0;
            z-index: 1001;
        }
        
        .burger-bar {
            width: 100%;
            height: 3px;
            background: var(--gold);
            border-radius: 2px;
            transition: all 0.3s ease;
        }
        
        .burger-menu.active .burger-bar:nth-child(1) {
            transform: rotate(45deg) translate(6px, 6px);
        }
        
        .burger-menu.active .burger-bar:nth-child(2) {
            opacity: 0;
        }
        
        .burger-menu.active .burger-bar:nth-child(3) {
            transform: rotate(-45deg) translate(6px, -6px);
        }
        
        .view-switch {
            display: flex;
            gap: 0.5rem;
            background: rgba(255,255,255,0.1);
            padding: 0.25rem;
            border-radius: 20px;
            transition: all 0.3s ease;
        }
        
        @media (max-width: 968px) {
            .burger-menu {
                display: flex;
            }
            
            .view-switch {
                position: fixed;
                top: 70px;
                left: 0;
                right: 0;
                background: rgba(10,12,16,0.98);
                flex-direction: column;
                align-items: center;
                padding: 1rem;
                border-bottom: 2px solid var(--gold);
                border-radius: 0;
                transform: translateY(-100%);
                opacity: 0;
                visibility: hidden;
            }
            
            .view-switch.active {
                transform: translateY(0);
                opacity: 1;
                visibility: visible;
            }
            
            .view-btn {
                max-width: 150px;
                text-align: center;
                padding: 1rem;
            }
        }
        
        .view-btn {
            padding: 0.5rem 1.5rem;
            border-radius: 16px;
            border: none;
            background: transparent;
            color: #8892b0;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            font-size: 0.9rem;
        }
        
        .view-btn:hover { color: white; background: rgba(255,255,255,0.1); }
        .view-btn.active { background: var(--gold); color: #000; font-weight: 600; }

        main {
    margin-top: 70px;
    height: calc(100vh - 70px);
    display: flex;
    position: relative;
}

#treeArea {
    flex: 1;
    overflow: hidden;
    position: relative;
    background: radial-gradient(circle at center, rgba(212,175,55,0.05) 0%, transparent 70%);
    cursor: grab;
}
        
        #treeArea:active { cursor: grabbing; }

        .node rect {
            cursor: pointer;
            transition: all 0.3s;
            filter: drop-shadow(0 4px 6px rgba(0,0,0,0.5));
        }

        .node:hover rect {
            filter: drop-shadow(0 8px 12px rgba(0,0,0,0.6)) brightness(1.2);
            stroke: #fff;
            stroke-width: 3px;
        }

        .node text {
            font-family: 'Inter', sans-serif;
            font-size: 11px;
            font-weight: 600;
            fill: white;
            text-shadow: 0 2px 4px rgba(0,0,0,0.8);
            pointer-events: none;
        }
        
        .node .tamga-text {
            font-size: 14px;
            fill: #d4af37;
            font-weight: bold;
        }

        .link {
            fill: none;
            stroke: #4a5568;
            stroke-width: 2px;
            opacity: 0.6;
        }

        /* On panel */
    .detail-panel {
    background: var(--bg-card);
    border-left: 1px solid #2d3548;
    padding: 2rem;
    overflow-y: auto;
    box-shadow: -10px 0 30px rgba(0,0,0,0.5);
    position: relative;
    transition: transform 0.3s ease, opacity 0.3s ease, visibility 0.3s, width 0.3s ease;
    width: 400px;
    flex-shrink: 0;
    /* –î–æ–±–∞–≤–ª—è–µ–º will-change –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ */
    will-change: transform, opacity, visibility;
}
        
        
    .detail-panel.collapsed {
    transform: translateX(100%);
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    width: 0;
    padding: 0;
    border: none;
    overflow: hidden;
    /* –î–æ–±–∞–≤–ª—è–µ–º display none –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏ */
    transition: transform 0.3s ease, opacity 0.3s ease, visibility 0.3s, width 0.3s ease, padding 0.3s ease;
}
        
        .close-panel-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--tust-xaliq);
            border: none;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2em;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
            transition: all 0.3s;
        }
        
        .close-panel-btn:hover {
            background: #c0392b;
            transform: scale(1.1);
        }
        
        .open-panel-btn {
            position: fixed;
            right: 20px;
            bottom: 100px;
            background: var(--gold);
            color: #000;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.5em;
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 999;
            box-shadow: 0 4px 15px rgba(241, 196, 15, 0.4);
            transition: all 0.3s;
        }
        
        .open-panel-btn.visible {
            display: flex;
        }
        
        .open-panel-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(241, 196, 15, 0.6);
        }

        .detail-header {
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid #2d3548;
        }

        .detail-tamga {
            width: 100px;
            height: 100px;
            margin: 0 auto 1rem;
            background: linear-gradient(135deg, rgba(212,175,55,0.2), rgba(212,175,55,0.1));
            border: 3px solid var(--gold);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            box-shadow: 0 0 30px rgba(212,175,55,0.3);
        }

        .detail-title { color: var(--gold); font-family: 'Cormorant Garamond', serif; font-size: 1.8rem; margin-bottom: 0.5rem; line-height: 1.2; }
        .detail-subtitle { color: #8892b0; font-size: 0.9rem; margin-bottom: 1rem; }
        
        .info-block {
            background: rgba(0,0,0,0.3);
            border-left: 4px solid var(--gold);
            padding: 1rem;
            border-radius: 0 8px 8px 0;
            margin-bottom: 1rem;
            transition: transform 0.2s;
        }
        
        .info-block:hover { transform: translateX(5px); }

        .info-label { font-size: 0.75rem; color: #8892b0; text-transform: uppercase; margin-bottom: 0.5rem; font-weight: bold; letter-spacing: 0.5px; }
        .info-content { color: #e2e8f0; line-height: 1.5; font-size: 0.95rem; }
        
        /* D√°reje boyƒ±nsha t√∫ster - tiykar«µƒ± t√∫ster */
        .node-xaliq rect { fill: var(--tust-xaliq); stroke: #c0392b; }
        .node-aris rect { fill: var(--tust-aris); stroke: #d35400; }
        .node-bolim rect { fill: var(--tust-bolim); stroke: #f39c12; }
        .node-ulken rect { fill: var(--tust-ulken); stroke: #27ae60; }
        .node-uruw rect { fill: var(--tust-uruw); stroke: #2980b9; }
        .node-tiyre rect { fill: var(--tust-tiyre); stroke: #8e44ad; }
        .node-koshe rect { fill: var(--tust-koshe); stroke: #16a085; }
        
        /* Bolim h√°m Koshe ushƒ±n qara text */
        .node-bolim text,
        .node-koshe text { 
            fill: #000; 
            text-shadow: none; 
            font-weight: 700; 
        }
        
        .controls {
            position: absolute;
            bottom: 20px;
            left: 20px;
            background: rgba(0,0,0,0.8);
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #333;
            display: flex;
            gap: 5px;
        }
        
        .controls button {
            background: #2d3748;
            border: none;
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.2s;
        }
        
        .controls button:hover { background: var(--gold); color: black; }
        
        .legend-tree {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(0,0,0,0.8);
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #333;
            font-size: 0.8rem;
            max-height: 200px;
            overflow-y: auto;
        }
        
        .legend-item { display: flex; align-items: center; gap: 8px; margin: 5px 0; }
        .legend-color { width: 12px; height: 12px; border-radius: 3px; }

        .lang-switch {
    display: flex;
    gap: 0.5rem;
    margin-left: 1rem;
    padding-left: 1rem;
    border-left: 1px solid rgba(212,175,55,0.3);
}





        /* Ierarxiya tizimi */
        .hierarchy-chain {
            background: linear-gradient(135deg, rgba(241, 196, 15, 0.1), rgba(230, 126, 34, 0.1));
            border: 2px solid var(--gold);
            border-radius: 8px;
            padding: 15px;
            margin: 12px 0;
        }
        .hierarchy-item {
            display: flex;
            align-items: center;
            padding: 6px 0;
            border-bottom: 1px dashed rgba(241, 196, 15, 0.3);
        }
        .hierarchy-item:last-child {
            border-bottom: none;
            font-weight: bold;
            color: var(--gold);
        }
        .hierarchy-arrow {
            margin: 0 10px;
            color: var(--tust-aris);
        }
        .hierarchy-level {
            background: var(--gold);
            color: #000;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 0.7em;
            margin-right: 8px;
            min-width: 80px;
            text-align: center;
        }

        .lang-btn {
    /* padding: 0.1rem 0.1rem; */
    border-radius: 10px;
    border: 1px solid var(--gold);
    background: transparent;
    
    cursor: pointer;
    font-size: 0.65rem;
    font-weight: 400;
    transition: all 0.3s;
    text-decoration: none;
}
.lang-btn1 {
    padding: 0.4rem 0.4rem;
    border-radius: 8px;
    background: transparent;
    color: var(--gold);
    cursor: pointer;
    font-size: 0.85rem;
    font-weight: 600;
    transition: all 0.3s;
    text-decoration: none;
    display: flex;
    align-items: center;
    justify-content: center;
}
.lang-btn img {
    width: 65px;
    height: 65px;
    margin-bottom: 4px;
    border-radius: 50%;
    vertical-align: middle;
}
.lang-btn1 img {
    width: 43px;
    height: 43px; 
    border-radius: 50%;
    vertical-align: middle;
}

.lang-btn:hover {
    background: rgba(212,175,55,0.1);
    border: 1px solid var(--gold);
}

.lang-btn.active {
    width: 53px;
    height: 53px;
    border: 1px solid var(--accent-orange);
    display: flex;
    align-items: center;
    justify-content: center;
}

.lang-btn1:hover {
    border: 1px solid var(--gold);
    width: 53px;
    height: 53px;

   
}


       

        
      @media (max-width: 1200px) {
    main { display: block; }
    
    .detail-panel { 
        display: block;
        opacity: 0;
        visibility: hidden;
        position: fixed; 
        left: 0;
        right: 0;
        bottom: 0; 
        top: auto;
        width: 100%; 
        max-width: 100%;
        height: 70vh;
        max-height: 500px;
        z-index: 100; 
        transform: translateY(100%);
        transition: transform 0.3s ease, opacity 0.3s ease, visibility 0.3s;
        padding: 2rem;
        border-left: none;
        border-top: 2px solid var(--gold);
        border-radius: 20px 20px 0 0;
        /* –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω —Å —Ä–∞–∑–º—ã—Ç–∏–µ–º */
        background: rgba(21, 25, 35, 0.85);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
    }
    
    .detail-panel.active { 
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
    }
    
    .detail-panel.collapsed {
        transform: translateY(100%);
        width: 100%;
        padding: 2rem;
        /* –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –¥–∞–∂–µ –∫–æ–≥–¥–∞ –∑–∞–∫—Ä—ã—Ç–æ */
        background: rgba(21, 25, 35, 0.85);
    }
    
    .open-panel-btn {
        bottom: 20px;
        right: 20px;
    }
    
    .close-panel-btn {
        top: 10px;
        right: 10px;
    }
}

    @media (max-width: 768px) {
    .lang-switch {
        margin-left: 0;
        padding-left: 0;
        border-left: none;
        border-top: 1px solid rgba(212,175,55,0.3);
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
.lang-btn1:hover {
    border: 0px solid var(--gold);
    }

    .legend-tree {
            display: none;
        }
    }
   
        

        
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <span style="font-size: 2rem;">üå≥</span>
            <a target="_blank" href="./images/uru.jpg">URIW</a>
        </div>
        
        <!-- –ë—É—Ä–≥–µ—Ä –º–µ–Ω—é –∫–Ω–æ–ø–∫–∞ -->
        <button class="burger-menu" id="burgerMenu" aria-label="Men√∫di ashƒ±w">
            <span class="burger-bar"></span>
            <span class="burger-bar"></span>
            <span class="burger-bar"></span>
        </button>
        
        <div class="view-switch" id="viewSwitch">
            
            <a href="index.html" class="view-btn" target="_self">üè† Bas bet</a>
            <a href="listsQQ.html" class="view-btn" target="_self">üìã Tizimler</a>
            <a href="schemeQQ.html" class="view-btn active" target="_self">üå≥ Sxema</a>
            <a href="exogamyQQ.html" class="view-btn" target="_self">üíë Ekzogamiya</a>
        </div>

        <div class="lang-switch">
    <a target="_self" href="schemeQQ.html" class="lang-btn active"><img src="./images/QQ_.png" alt="QQ"></a>
    <a target="_self" href="schemeKZ.html" class="lang-btn1"><img src="./images/KZ.webp" alt="KZ"></a>
</div>
    </header>

    <main>
        <div id="treeArea">
            <svg id="treeSvg"></svg>
            <div class="legend-tree">
                <div style="color: var(--gold); margin-bottom: 8px; font-weight: bold;">Legenda:</div>
                <div class="legend-item"><div class="legend-color" style="background: var(--tust-xaliq);"></div> Xalƒ±q</div>
                <div class="legend-item"><div class="legend-color" style="background: var(--tust-aris);"></div> Arƒ±s (Qo≈Ñƒ±rat/On t√≥rt)</div>
                <div class="legend-item"><div class="legend-color" style="background: var(--tust-bolim);"></div> B√≥lim/√ölken urƒ±w</div>
                <div class="legend-item"><div class="legend-color" style="background: var(--tust-ulken);"></div> Urƒ±w</div>
                <div class="legend-item"><div class="legend-color" style="background: var(--tust-uruw);"></div> Tiyre</div>
                <div class="legend-item"><div class="legend-color" style="background: var(--tust-tiyre);"></div> Ko'she</div>             
            </div>
            <div class="controls">
                <button onclick="ulƒ±wlastƒ±rƒ±w()" title="Jaqtƒ±lastƒ±rƒ±w">+</button>
                <button onclick="qaƒ±taOrnatƒ±w()" title="Qaƒ±ta ornatƒ±w">‚ü≤</button>
                <button onclick="alqƒ±stƒ±rƒ±w()" title="Alqƒ±stƒ±rƒ±w">-</button>
            </div>
        </div>

        <aside class="detail-panel collapsed" id="details">
            <button class="close-panel-btn" id="closePanelBtn" title="Paneldi jabƒ±w">√ó</button>
            <div class="detail-header">
                <div class="detail-tamga" id="dTamga">üèõÔ∏è</div>
                <div class="detail-title" id="dName">Qaraqalpaqlar</div>
                <div class="detail-subtitle" id="dSubtitle">Orta Aziyada«µƒ± t√∫rk xalƒ±q</div>
            </div>
            <div id="dContent">
                <div class="info-block">
                    <div class="info-label">Navigatsiya</div>
                    <div class="info-content">
                        üñ±Ô∏è <strong>Sƒ±ylƒ±q tegish</strong> ‚Äî m√°shtab<br>
                        ‚úã <strong>Tartƒ±p alƒ±w</strong> ‚Äî jƒ±ljƒ±tƒ±w<br>
                        üëÜ <strong>Uruw«µa basƒ±w</strong> ‚Äî ma«µlƒ±wmat<br>
                    </div>
                </div>
            </div>
        </aside>
    </main>
    
    <button class="open-panel-btn" id="openPanelBtn" title="Ma«µlƒ±wmat panelin ashƒ±w">‚ÑπÔ∏è</button>

    <script>
        // TOLIQ QARAQALPAQ URUVLARI MA«¥LIWMATLARI
        const terekMa«µlƒ±wmatlarƒ± = {
            at: "Qaraqalpaqlar",
            t√∫ri: "xaliq",
            tamga: "üèõÔ∏è",
            ma«µlƒ±wmat: {
                tariyx: "Qaraqalpaqlar - Orta Aziyada«µƒ± t√∫rk tilles xalƒ±q. XVI-XIII √°sirlerde qalƒ±ptasqan.",
                t√∫begi: "Negizi No«µay ordasƒ±, Qƒ±pshaq, Qarluq taƒ±palarƒ±nan.",
                qalaqƒ±: "800 mƒ±≈Ñ adam",
                tili: "Qaraqalpaq tili - t√∫rk tillerini≈Ñ qƒ±pshaq tarma«µƒ±"
            },
            ballar: [
                {
                    at: "Arƒ±s Qo≈Ñƒ±rat",
                    t√∫ri: "aris",
                    tamga: "P",
                    uran: "Qaqpa!",
                    ma«µlƒ±wmat: {
                        tariyx: "Eki iri arƒ±stƒ±≈Ñ biri. No«µay ordasƒ±nan.",
                        t√∫begi: "No«µaylƒ±q, Qƒ±pshaq taƒ±palarƒ±nƒ±≈Ñ qosƒ±ndƒ±sƒ±.",
                        qalaqƒ±: "9520 kibitok (40%)",
                        qurilimi: "Shulƒ±q (8 urƒ±w) h√°m Jauƒ±≈Ñ«µƒ±r (7 urƒ±w)"
                    },
                    ballar: [
                        {
                            at: "Shulƒ±q b√≥limi",
                            t√∫ri: "bolim",
                            tamga: "Sh",
                            ma«µlƒ±wmat: { tariyx: "Shulƒ±q - 8 urƒ±wdan turadƒ±.", qalaqƒ±: "5860 kibitok" },
                            ballar: [
                                {
                                    at: "Qƒ±yat",
                                    t√∫ri: "ulken",
                                    tamga: "Œ®",
                                    uran: "Alataw!",
                                    ma«µlƒ±wmat: {
                                        tariyx: "Qƒ±yat - Shulƒ±qtƒ±≈Ñ e≈Ñ iri urƒ±wƒ±.",
                                        anƒ±z: "√ösh ulƒ±: √öshta≈Ñbalƒ±, Taraqtƒ±, Bal«µalƒ±.",
                                        qalaqƒ±: "870 kibitok"
                                    },
                                    ballar: [
                                        {
                                            at: "√öshta≈Ñbalƒ±",
                                            t√∫ri: "uruw",
                                            tamga: "|||",
                                            ma«µlƒ±wmat: { tariyx: "√ösh ta≈Ñbalƒ± - √∫sh belgi." },
                                            ballar: [
                                                { at: "Sa≈Ñmurƒ±n", t√∫ri: "tiyre", ma«µlƒ±wmat: { tariyx: "Sa≈Ñ murƒ±ndƒ±q maldan" } },
                                                { at: "Arƒ±qqƒ±yat", t√∫ri: "tiyre", ma«µlƒ±wmat: { tariyx: "Arƒ±q deneli" } },
                                                { at: "Tartulƒ±", t√∫ri: "tiyre" },
                                                { at: "Qanjƒ±«µalƒ±", t√∫ri: "tiyre" },
                                                { at: "Qata«µan", t√∫ri: "tiyre" },
                                                { 
                                                    at: "Qaraqƒ±yat", 
                                                    t√∫ri: "tiyre",
                                                    ballar: [
                                                        { at: "Bolat", t√∫ri: "koshe" },
                                                        { at: "Qarabas", t√∫ri: "koshe" }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            at: "Taraqtƒ±",
                                            t√∫ri: "uruw",
                                            ma«µlƒ±wmat: { tariyx: "Shashaqtƒ±, √≥rnekti" },
                                            ballar: [
                                                { at: "To«µƒ±zaq", t√∫ri: "tiyre", ma«µlƒ±wmat: { tariyx: "To«µƒ±z urpaqtan keyin" } },
                                                { at: "Abas", t√∫ri: "tiyre" },
                                                { at: "Jaltƒ±rshƒ±", t√∫ri: "tiyre" },
                                                { at: "Aqunqara«µan", t√∫ri: "tiyre" },
                                                { at: "Taqay", t√∫ri: "tiyre" },
                                                { at: "Qarjawbaras", t√∫ri: "tiyre" }
                                            ]
                                        },
                                        {
                                            at: "Bal«µalƒ± Qƒ±yat",
                                            t√∫ri: "uruw",
                                            tamga: "B",
                                            ma«µlƒ±wmat: { tariyx: "Bal«µa ustagan. Temirshiler." },
                                            ballar: [
                                                { at: "Bespƒ±shaq", t√∫ri: "tiyre" },
                                                { at: "Etekshi", t√∫ri: "tiyre" },
                                                { at: "Sa≈Ñmurƒ±n", t√∫ri: "tiyre" },
                                                { at: "Qojaqqara«µan", t√∫ri: "tiyre" }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    at: "Ashamaylƒ±",
                                    t√∫ri: "ulken",
                                    tamga: "‚úï",
                                    uran: "Shulƒ±q!",
                                    ma«µlƒ±wmat: { tariyx: "Ashamay - k√≥zi nashar k√≥retin.", qalaqƒ±: "870 kibitok" },
                                    ballar: [
                                        { at: "Saqu", t√∫ri: "uruw", ma«µlƒ±wmat: { tariyx: "Saqshƒ±lar" } },
                                        { at: "Qaraqoja", t√∫ri: "uruw" },
                                        { at: "Jala≈Ñayaq", t√∫ri: "uruw", ma«µlƒ±wmat: { tariyx: "Tez j√∫girwshi" } },
                                        { 
                                            at: "Qobasan", 
                                            t√∫ri: "uruw",
                                            ballar: [
                                                { at: "Aqnazar", t√∫ri: "tiyre" },
                                                { at: "Jansarƒ±", t√∫ri: "tiyre" },
                                                { at: "√ìtemis", t√∫ri: "tiyre" },
                                                { at: "Esen", t√∫ri: "tiyre" },
                                                { at: "Tampƒ±sh", t√∫ri: "tiyre" }
                                            ]
                                        },
                                        { at: "T√∫rkmenqara", t√∫ri: "uruw", ma«µlƒ±wmat: { tariyx: "T√∫rkmenler men aralasqan" } },
                                        { at: "Jappar", t√∫ri: "uruw" },
                                        { at: "Sarƒ±", t√∫ri: "uruw" },
                                        { at: "Abƒ±z", t√∫ri: "uruw" },
                                        { at: "Aqay", t√∫ri: "uruw" },
                                        { at: "Pa≈Ñqara", t√∫ri: "uruw" },
                                        { at: "√ösh bas", t√∫ri: "uruw" },
                                        { at: "Qurama", t√∫ri: "uruw" }
                                    ]
                                },
                                {
                                    at: "Qoldaulƒ±",
                                    t√∫ri: "ulken",
                                    tamga: "Q",
                                    uran: "Qoldaw!",
                                    ma«µlƒ±wmat: { tariyx: "Qoldaw - opora.", qalaqƒ±: "1140 kibitok" },
                                    ballar: [
                                        { at: "Beskempir", t√∫ri: "uruw", ma«µlƒ±wmat: { tariyx: "Bes kempir" } },
                                        { at: "Mayshƒ±shalƒ±", t√∫ri: "uruw" },
                                        { at: "Qalqaman", t√∫ri: "uruw" },
                                        { at: "«¥ayƒ±pqara«µan", t√∫ri: "uruw", ma«µlƒ±wmat: { tariyx: "«¥ayƒ±p bol«µan ata" } },
                                        { at: "Sarƒ±tan", t√∫ri: "uruw" },
                                        { at: "K√∫lkƒ±qojaqq", t√∫ri: "uruw" },
                                        { at: "Jarƒ±mbet", t√∫ri: "uruw" },
                                        { at: "Qƒ±zƒ±layaq", t√∫ri: "uruw" },
                                        { at: "Qarasƒ±raq", t√∫ri: "uruw" },
                                        { at: "Jelqara«µan", t√∫ri: "uruw" },
                                        { at: "√ölkenb√≥rik", t√∫ri: "uruw" },
                                        { at: "Shƒ±ljuƒ±t", t√∫ri: "uruw" },
                                        { at: "Jamanqo≈Ñƒ±rat", t√∫ri: "uruw" },
                                        { 
                                            at: "Qalmaq", 
                                            t√∫ri: "uruw",
                                            ballar: [
                                                { at: "Adil", t√∫ri: "tiyre" },
                                                { at: "Ereke", t√∫ri: "tiyre" }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    at: "Qosta≈Ñbalƒ±",
                                    t√∫ri: "ulken",
                                    tamga: "‚ßâ",
                                    uran: "Qosqa!",
                                    ma«µlƒ±wmat: { tariyx: "Eki tam«µalƒ±." },
                                    ballar: [
                                        { at: "Jangeldi", t√∫ri: "uruw" },
                                        { at: "Shirjegen", t√∫ri: "uruw" },
                                        { at: "A«µabegli", t√∫ri: "uruw" },
                                        { at: "Qarƒ±njuan", t√∫ri: "uruw" },
                                        { at: "Qosta≈Ñbalƒ±", t√∫ri: "uruw" },
                                        { at: "Qaraqursaq", t√∫ri: "uruw" },
                                        { at: "Qazaqƒ±", t√∫ri: "uruw" }
                                    ]
                                },
                                {
                                    at: "Bal«µalƒ±",
                                    t√∫ri: "ulken",
                                    tamga: "B",
                                    uran: "Bal«µa!",
                                    ma«µlƒ±wmat: { tariyx: "Temirshiler.", qalaqƒ±: "560 kibitok" },
                                    ballar: [
                                        { at: "Aqbal«µalƒ±", t√∫ri: "uruw" },
                                        { at: "Nur bal«µalƒ±", t√∫ri: "uruw" },
                                        { at: "T√∫rkmen", t√∫ri: "uruw" },
                                        { at: "Jaman awƒ±l", t√∫ri: "uruw" },
                                        { at: "Sh√≥mishti", t√∫ri: "uruw" },
                                        { at: "Toqƒ±mbet", t√∫ri: "uruw" },
                                        { at: "Taz bal«µalƒ±", t√∫ri: "uruw" },
                                        { at: "Qostam«µalƒ±", t√∫ri: "uruw" },
                                        { at: "Qaratalshƒ±", t√∫ri: "uruw" },
                                        { at: "Asan", t√∫ri: "uruw" },
                                        { at: "Arzƒ±qul", t√∫ri: "uruw" }
                                    ]
                                },
                                {
                                    at: "K√°nde–∫li",
                                    t√∫ri: "ulken",
                                    tamga: "G",
                                    uran: "K√≥ndek!",
                                    ma«µlƒ±wmat: { tariyx: "K√≥ndek - qora.", qalaqƒ±: "730 kibitok" },
                                    ballar: [
                                        { at: "Qarama", t√∫ri: "uruw" },
                                        { at: "Kiikshi", t√∫ri: "uruw", ma«µlƒ±wmat: { tariyx: "Kiik saqshƒ±" } },
                                        { at: "Toqbolat", t√∫ri: "uruw" },
                                        { at: "Qƒ±rƒ±qsadaq", t√∫ri: "uruw", ma«µlƒ±wmat: { tariyx: "40 sadaq" } }
                                    ]
                                },
                                {
                                    at: "Qaramoyƒ±n",
                                    t√∫ri: "ulken",
                                    tamga: "TM",
                                    uran: "Moyƒ±n!",
                                    ma«µlƒ±wmat: { tariyx: "Qara moyƒ±n.", qalaqƒ±: "560 kibitok" },
                                    ballar: [
                                        { at: "Annahoja", t√∫ri: "uruw", ma«µlƒ±wmat: { tariyx: "Anna √°wliye" } },
                                        { at: "Sabalaq", t√∫ri: "uruw", ma«µlƒ±wmat: { tariyx: "Saba - bala" } },
                                        { at: "K√≥telek", t√∫ri: "uruw" },
                                        { at: "Qarƒ±lmaral", t√∫ri: "uruw" },
                                        { at: "B√∫lkildek", t√∫ri: "uruw", ma«µlƒ±wmat: { tariyx: "K√∫l√Ω" } }
                                    ]
                                },
                                {
                                    at: "M√∫yten",
                                    t√∫ri: "ulken",
                                    tamga: "œà",
                                    uran: "Aqsholpan!",
                                    ma«µlƒ±wmat: { 
                                        tariyx: "Moyƒ±n - moyƒ±n.", 
                                        anƒ±z: "M√∫ytenni≈Ñ √∫sh ulƒ±: Samat, Teli, Abƒ±z",
                                        qalaqƒ±: "540 kibitok"
                                    },
                                    ballar: [
                                        { 
                                            at: "Samat", 
                                            t√∫ri: "uruw",
                                            ballar: [
                                                { at: "Bayb√≠she", t√∫ri: "tiyre" },
                                                { at: "Toqqara«µan", t√∫ri: "tiyre" },
                                                { at: "Baymurat", t√∫ri: "tiyre" },
                                                { at: "Jolan", t√∫ri: "tiyre" },
                                                { at: "Bekaw", t√∫ri: "tiyre" }
                                            ]
                                        },
                                        { 
                                            at: "Teli", 
                                            t√∫ri: "uruw",
                                            ballar: [
                                                { at: "Tilewberdi", t√∫ri: "tiyre" },
                                                { at: "Allaberdi", t√∫ri: "tiyre" },
                                                { at: "Ta≈Ñirberdi", t√∫ri: "tiyre" },
                                                { at: "Mantƒ±qqara«µan", t√∫ri: "tiyre" },
                                                { at: "Mollaqqara«µan", t√∫ri: "tiyre" }
                                            ]
                                        },
                                        { 
                                            at: "Abƒ±z", 
                                            t√∫ri: "uruw",
                                            ma«µlƒ±wmat: { tariyx: "Aqsaq–∞–ª, √°wliye" },
                                            ballar: [
                                                { at: "Adƒ±", t√∫ri: "tiyre" }
                                            ]
                                        },
                                        { 
                                            at: "Ke≈Ñtanaw", 
                                            t√∫ri: "uruw",
                                            ballar: [
                                                { at: "Barn", t√∫ri: "tiyre" },
                                                { at: "Itaq", t√∫ri: "tiyre" },
                                                { at: "Jekensal", t√∫ri: "tiyre" }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            at: "Jauƒ±≈Ñ«µƒ±r b√≥limi",
                            t√∫ri: "bolim",
                            ma«µlƒ±wmat: { tariyx: "Jauƒ±≈Ñ«µƒ±r - 7 urƒ±w.", qalaqƒ±: "3660 kibitok" },
                            ballar: [
                                {
                                    at: "Terista≈Ñbalƒ±",
                                    t√∫ri: "ulken",
                                    ballar: [
                                        { at: "Shomaq", t√∫ri: "uruw" },
                                        { at: "Hangildi", t√∫ri: "uruw" },
                                        { at: "Bayqara«µan", t√∫ri: "uruw" },
                                        { at: "Elshibay", t√∫ri: "uruw" },
                                        { at: "Qurban", t√∫ri: "uruw" },
                                        { at: "To«µƒ±z", t√∫ri: "uruw" },
                                        { at: "Tile", t√∫ri: "uruw" },
                                        { at: "Tebegen", t√∫ri: "uruw" },
                                        { at: "Tum", t√∫ri: "uruw" },
                                        { at: "T√∫rkistan", t√∫ri: "uruw" }
                                    ]
                                },
                                {
                                    at: "Baqanlƒ±",
                                    t√∫ri: "ulken",
                                    ballar: [
                                        { at: "Ta≈Ñmayƒ±l", t√∫ri: "uruw" },
                                        { at: "Jaganay", t√∫ri: "uruw" },
                                        { at: "Nayman", t√∫ri: "uruw" },
                                        { at: "Ayƒ±s", t√∫ri: "uruw" }
                                    ]
                                },
                                {
                                    at: "Tiyekt—ñ",
                                    t√∫ri: "ulken",
                                    ballar: [
                                        { at: "Shishi", t√∫ri: "uruw", ballar: [{at:"Shishi Arna",t√∫ri:"tiyre"}] },
                                        { at: "Tumanay", t√∫ri: "uruw" },
                                        { at: "Mawlik", t√∫ri: "uruw" },
                                        { at: "Bayram", t√∫ri: "uruw" }
                                    ]
                                },
                                {
                                    at: "Ir«µaqtƒ±",
                                    t√∫ri: "ulken",
                                    ma«µlƒ±wmat: { eskertpe: "Eki arƒ±sta da bar!" },
                                    ballar: [
                                        { at: "Atanay", t√∫ri: "uruw" },
                                        { at: "Eshkili", t√∫ri: "uruw" },
                                        { at: "Baybura", t√∫ri: "uruw" },
                                        { at: "Sarƒ±tan", t√∫ri: "uruw" }
                                    ]
                                },
                                {
                                    at: "Baymaqtƒ±",
                                    t√∫ri: "ulken",
                                    ballar: [
                                        { at: "Saspaq", t√∫ri: "uruw" },
                                        { at: "√öyes", t√∫ri: "uruw" },
                                        { at: "Ta≈Ñmayƒ±l", t√∫ri: "uruw" },
                                        { at: "Jaganay", t√∫ri: "uruw" }
                                    ]
                                },
                                {
                                    at: "Qazayaqtƒ±",
                                    t√∫ri: "ulken",
                                    ballar: [
                                        { at: "Anetay", t√∫ri: "uruw" },
                                        { at: "Jarƒ±mbet", t√∫ri: "uruw" },
                                        { at: "Jundi", t√∫ri: "uruw" },
                                        { at: "Sadaq", t√∫ri: "uruw" }
                                    ]
                                },
                                {
                                    at: "Uy«µƒ±r",
                                    t√∫ri: "ulken",
                                    ballar: [
                                        { at: "Shishi", t√∫ri: "uruw" },
                                        { at: "Tumanay", t√∫ri: "uruw" },
                                        { at: "Sabalaq", t√∫ri: "uruw" },
                                        { at: "Mawlik", t√∫ri: "uruw" },
                                        { at: "Bayram", t√∫ri: "uruw" },
                                        { at: "Sƒ±r«µalƒ±", t√∫ri: "uruw" }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    at: "Arƒ±s On t√≥rt",
                    t√∫ri: "aris",
                    tamga: "14",
                    uran: "Toqsaba!",
                    ma«µlƒ±wmat: {
                        tariyx: "14 urƒ±wdan ibarat iri arƒ±s. K√≥p sanlƒ±.",
                        qalaqƒ±: "10260 kibitok (60%)",
                        qurilimi: "4 √∫lken urƒ±w: Qƒ±tay, Qƒ±pshaq, Keneges, Ma≈Ñ«µƒ±t"
                    },
                    ballar: [
                        {
                            at: "Qƒ±tay",
                            t√∫ri: "ulken",
                            tamga: "Q",
                            uran: "Ullƒ± taw!",
                            jup: "Qƒ±pshaq penen",
                            ma«µlƒ±wmat: { tariyx: "E≈Ñ iri urƒ±w.", qalaqƒ±: "4320 kibitok" },
                            ballar: [
                                { at: "Bessarƒ±", t√∫ri: "uruw", ballar: [{at:"J√∫nli",t√∫ri:"tiyre"},{at:"Qoylƒ±",t√∫ri:"tiyre"}] },
                                { at: "Beksƒ±yƒ±q", t√∫ri: "uruw", ballar: [{at:"Zerger",t√∫ri:"tiyre"},{at:"Masay",t√∫ri:"tiyre"},{at:"Shƒ±«µƒ±rshƒ±",t√∫ri:"tiyre"},{at:"Malay",t√∫ri:"tiyre"}] },
                                { at: "Qazayaqlƒ±", t√∫ri: "uruw", ballar: [{at:"K√°lsen",t√∫ri:"tiyre"},{at:"K√∫yik",t√∫ri:"tiyre"},{at:"Mƒ±rzay",t√∫ri:"tiyre"},{at:"Qƒ±lmoyƒ±n",t√∫ri:"tiyre"},{at:"Jƒ±lqbay",t√∫ri:"tiyre"}] },
                                { 
                                    at: "Qayshƒ±lƒ±", 
                                    t√∫ri: "uruw",
                                    ballar: [
                                        {at:"Aqƒ±mbet",t√∫ri:"tiyre"},
                                        {at:"Juwansan",t√∫ri:"tiyre"},
                                        {at:"K√≥terehoja",t√∫ri:"tiyre"},
                                        {at:"Tanamƒ±rza",t√∫ri:"tiyre"},
                                        {at:"Baqƒ±",t√∫ri:"tiyre"},
                                        {at:"Sƒ±bƒ±l",t√∫ri:"tiyre"},
                                        {at:"Basar",t√∫ri:"tiyre"},
                                        {at:"Tolƒ±q",t√∫ri:"tiyre"},
                                        {at:"Yabƒ±",t√∫ri:"tiyre"}
                                    ]
                                },
                                { 
                                    at: "√Åyteke", 
                                    t√∫ri: "uruw",
                                    ballar: [
                                        {at:"J√°dik",t√∫ri:"tiyre"},
                                        {at:"Irsƒ±mbek",t√∫ri:"tiyre"},
                                        {at:"Orazƒ±mbet",t√∫ri:"tiyre"},
                                        {at:"Ta≈Ñirkul",t√∫ri:"tiyre"},
                                        {at:"Bektes",t√∫ri:"tiyre",ballar:[{at:"Bektes T√≥re",t√∫ri:"koshe"}]},
                                        {at:"Nawriz",t√∫ri:"tiyre"},
                                        {at:"Manj√∫wli",t√∫ri:"tiyre"},
                                        {at:"Tazshƒ±lƒ±q",t√∫ri:"tiyre"}
                                    ]
                                },
                                { at: "Manj√∫wli", t√∫ri: "uruw", ballar: [{at:"Eki shƒ±yƒ±q",t√∫ri:"tiyre"},{at:"Qaramanj√∫wli",t√∫ri:"tiyre"},{at:"√Åyereke",t√∫ri:"tiyre"}] },
                                { at: "Aralbay", t√∫ri: "uruw", ballar: [{at:"Aqqala",t√∫ri:"tiyre"},{at:"Qalmurat",t√∫ri:"tiyre"},{at:"√ìgizbayshƒ±",t√∫ri:"tiyre"},{at:"Bayb√≠she",t√∫ri:"tiyre"},{at:"Tilew qushƒ±",t√∫ri:"tiyre"}] }
                            ]
                        },
                        {
                            at: "Qƒ±pshaq",
                            t√∫ri: "ulken",
                            tamga: "I",
                            uran: "Toqsaba!",
                            jup: "Qƒ±tay penen",
                            ma«µlƒ±wmat: { tariyx: "K√≥ne qƒ±pshaq urƒ±w.", qalaqƒ±: "2240 kibitok" },
                            ballar: [
                                { 
                                    at: "Qa≈Ñlƒ±", 
                                    t√∫ri: "uruw",
                                    ballar: [
                                        {at:"Tram",t√∫ri:"tiyre"},
                                        {at:"Qatqa≈Ñlƒ±",t√∫ri:"tiyre"},
                                        {at:"Ir«µaqƒ±lƒ±",t√∫ri:"tiyre"},
                                        {at:"Ashamaylƒ±",t√∫ri:"tiyre"},
                                        {at:"Taraqtƒ±",t√∫ri:"tiyre"},
                                        {at:"Baspaq",t√∫ri:"tiyre"},
                                        {at:"Ayat",t√∫ri:"tiyre"},
                                        {at:"Bosƒ±n",t√∫ri:"tiyre"},
                                        {at:"Basapat",t√∫ri:"tiyre"},
                                        {at:"Qo≈Ñƒ±rqazƒ±",t√∫ri:"tiyre"},
                                        {at:"Kenes",t√∫ri:"tiyre"},
                                        {at:"Tashkent",t√∫ri:"tiyre"}
                                    ]
                                },
                                { at: "Sa≈Ñmurƒ±n", t√∫ri: "uruw", ballar: [{at:"K√≥nshi",t√∫ri:"tiyre"},{at:"Tubay",t√∫ri:"tiyre"},{at:"Eshkili",t√∫ri:"tiyre"},{at:"Jalpaq shek",t√∫ri:"tiyre"},{at:"T√≥lebay",t√∫ri:"tiyre"},{at:"Jabashƒ±",t√∫ri:"tiyre"}] },
                                { at: "Estek", t√∫ri: "uruw", ballar: [{at:"Ma≈Ñqanay",t√∫ri:"tiyre"},{at:"Qayƒ±pnazar",t√∫ri:"tiyre"},{at:"Qaraterenshi",t√∫ri:"tiyre"},{at:"Qalmurat",t√∫ri:"tiyre"}] },
                                { at: "Qanjƒ±«µalƒ±", t√∫ri: "uruw", ballar: [{at:"Shanƒ±shpay",t√∫ri:"tiyre"},{at:"Sambet",t√∫ri:"tiyre"},{at:"Ja«µaltay",t√∫ri:"tiyre"},{at:"Bayb√≠she",t√∫ri:"tiyre"}] },
                                { at: "Saltƒ±r", t√∫ri: "uruw", ballar: [{at:"Bayb√≠she",t√∫ri:"tiyre"},{at:"Sart",t√∫ri:"tiyre"},{at:"Orazƒ±mbet",t√∫ri:"tiyre"},{at:"Shuyƒ±«µan",t√∫ri:"tiyre"}] }
                            ]
                        },
                        {
                            at: "Keneges",
                            t√∫ri: "ulken",
                            tamga: "X",
                            uran: "Shawlƒ±-Shawhay!",
                            jup: "Ma≈Ñ«µƒ±t penen",
                            ma«µlƒ±wmat: { tariyx: "Keneges.", qalaqƒ±: "1480 kibitok" },
                            ballar: [
                                { 
                                    at: "Aranshƒ±", 
                                    t√∫ri: "uruw",
                                    ballar: [
                                        {at:"Annaqul",t√∫ri:"tiyre"},
                                        {at:"Abas",t√∫ri:"tiyre",ballar:[{at:"Seytimbet",t√∫ri:"koshe"}]},
                                        {at:"S√∫yin",t√∫ri:"tiyre"},
                                        {at:"Juwas",t√∫ri:"tiyre"},
                                        {at:"D√°wletqar«µa",t√∫ri:"tiyre"},
                                        {at:"Qayƒ±pbergen",t√∫ri:"tiyre"}
                                    ]
                                },
                                { at: "Aqto«µƒ±n", t√∫ri: "uruw", ballar: [{at:"Nanjemes",t√∫ri:"tiyre"},{at:"K√≥shek",t√∫ri:"tiyre"}] },
                                { at: "√ìmir", t√∫ri: "uruw", ballar: [{at:"Aqpƒ±shaq",t√∫ri:"tiyre"},{at:"Usaq",t√∫ri:"tiyre"},{at:"Jel",t√∫ri:"tiyre"},{at:"Mƒ±njƒ±r",t√∫ri:"tiyre"},{at:"√ìtemis",t√∫ri:"tiyre"}] },
                                { at: "Taraqtƒ±", t√∫ri: "uruw", ballar: [{at:"Jetiqara«µaz",t√∫ri:"tiyre",ballar:[{at:"Jetiqara",t√∫ri:"koshe"}]}] },
                                { at: "Dobal", t√∫ri: "uruw" },
                                { 
                                    at: "Oymawƒ±t", 
                                    t√∫ri: "uruw",
                                    ballar: [
                                        {at:"Qara",t√∫ri:"tiyre"},
                                        {at:"Sarƒ±",t√∫ri:"tiyre",ballar:[{at:"Jiydeli",t√∫ri:"koshe"}]},
                                        {at:"Aq",t√∫ri:"tiyre"}
                                    ]
                                },
                                { at: "Dombazqaq", t√∫ri: "uruw" },
                                { at: "N√≥kis", t√∫ri: "uruw", ma«µlƒ±wmat: { eskertpe: "Qaraqalpaqstan paytaxtƒ±!" }, ballar: [{at:"Jamanjaq",t√∫ri:"tiyre"},{at:"Bozaq",t√∫ri:"tiyre"},{at:"Altƒ±npƒ±shaq",t√∫ri:"tiyre"},{at:"«¥obdir",t√∫ri:"tiyre"}] }
                            ]
                        },
                        {
                            at: "Ma≈Ñ«µƒ±t",
                            t√∫ri: "ulken",
                            tamga: "f",
                            uran: "Shawlƒ±-Shawhay!",
                            jup: "Keneges penen",
                            ma«µlƒ±wmat: { tariyx: "Soyƒ±sqor urƒ±w. Edige urpaqtarƒ±.", qalaqƒ±: "2220 kibitok" },
                            ballar: [
                                { 
                                    at: "Qaratay", 
                                    t√∫ri: "uruw",
                                    ma«µlƒ±wmat: { topar: "Qara (Qaralar)" },
                                    ballar: [
                                        {at:"Qarama≈Ñ«µƒ±t",t√∫ri:"tiyre",ballar:[{at:"√öshbas",t√∫ri:"koshe"},{at:"Qarasƒ±raq",t√∫ri:"koshe"},{at:"Aqma≈Ñ«µƒ±t",t√∫ri:"koshe"}]},
                                        {at:"Mamƒ±qshƒ±",t√∫ri:"tiyre",ballar:[{at:"Jetiqurt",t√∫ri:"koshe"}]},
                                        {at:"Qosar",t√∫ri:"tiyre",ballar:[{at:"G√∫bidin",t√∫ri:"koshe"}]},
                                        {at:"Qƒ±lqalƒ±",t√∫ri:"tiyre"}
                                    ]
                                },
                                { 
                                    at: "Sarƒ±tay", 
                                    t√∫ri: "uruw",
                                    ma«µlƒ±wmat: { topar: "Sarƒ± (Sarƒ±lar)" },
                                    ballar: [
                                        {at:"Arshƒ±n",t√∫ri:"tiyre"},
                                        {at:"Jaylƒ±q",t√∫ri:"tiyre"},
                                        {at:"Toqma≈Ñ«µƒ±t",t√∫ri:"tiyre"},
                                        {at:"Arsarƒ±",t√∫ri:"tiyre"},
                                        {at:"Tazjanlƒ±q",t√∫ri:"tiyre"},
                                        {at:"Sh√∫yt",t√∫ri:"tiyre"},
                                        {at:"Jamansha",t√∫ri:"tiyre"},
                                        {at:"Esebiy",t√∫ri:"tiyre"},
                                        {at:"Tam«µalƒ±",t√∫ri:"tiyre"},
                                        {at:"Toqmoyƒ±n",t√∫ri:"tiyre"},
                                        {at:"Temirhoja",t√∫ri:"tiyre"}
                                    ]
                                },
                                { at: "Boztay", t√∫ri: "uruw", ma«µlƒ±wmat: { topar: "Boz (Bozlar)" }, ballar: [{at:"Bozta",t√∫ri:"tiyre",ballar:[{at:"Bozta baba",t√∫ri:"koshe"}]}] },
                                { at: "Jetimtay", t√∫ri: "uruw", ma«µlƒ±wmat: { topar: "Jetim (Jetimler)" }, ballar: [{at:"Eshbu«µa",t√∫ri:"tiyre",ballar:[{at:"Esh bu«µa",t√∫ri:"koshe"}]}] }
                            ]
                        }
                    ]
                }
            ]
        };

        let svg, g, zoom;
        let √°meldegiMasshtab = d3.zoomIdentity;
        let panelAshƒ±q = false;

        function terektiBaslaw() {
    const qorap = document.getElementById('treeArea');
    const ke≈Ñlik = qorap.clientWidth;
    const biyiklik = qorap.clientHeight;

    svg = d3.select("#treeSvg")
        .attr("width", ke≈Ñlik)
        .attr("height", biyiklik);

    // Tazalaw
    svg.selectAll("*").remove();

    zoom = d3.zoom()
        .scaleExtent([0.05, 3])
        .on("zoom", (e) => {
            g.attr("transform", e.transform);
            √°meldegiMasshtab = e.transform;
        });

    svg.call(zoom);

    g = svg.append("g");

    // –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ó–î–ï–°–¨:
    const t√°mƒ±r = d3.hierarchy(terekMa«µlƒ±wmatlarƒ±, d => d.ballar);
    
    // –û—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π...
    const japrakSanaqƒ± = t√°mƒ±r.leaves().length;
    const terenlik = t√°mƒ±r.height;
            
            // Kerek √≥lshem
            const e≈ÑAzamattƒ±qKe≈Ñlik = Math.max(ke≈Ñlik, japrakSanaqƒ± * 25);
            const e≈ÑAzamattƒ±qBiyiklik = Math.max(biyiklik, (terenlik + 1) * 100);
            
            const terekQurƒ±lmƒ± = d3.tree()
                .size([e≈ÑAzamattƒ±qKe≈Ñlik, e≈ÑAzamattƒ±qBiyiklik])
                .separation((a, b) => {
                    if (a.parent === b.parent) return 1;
                    return 1.2;
                });
            
            terekQurƒ±lmƒ±(t√°mƒ±r);

            // Baslan«µƒ±sh k√≥rinis - ortada
            const baslan«µƒ±shMasshtab = Math.min(
                (ke≈Ñlik - 100) / e≈ÑAzamattƒ±qKe≈Ñlik,
                (biyiklik - 150) / e≈ÑAzamattƒ±qBiyiklik,
                0.9
            );
            
            const baslan«µƒ±shX = (ke≈Ñlik - e≈ÑAzamattƒ±qKe≈Ñlik * baslan«µƒ±shMasshtab) / 2;
            const baslan«µƒ±shY = 50;

            g.attr("transform", `translate(${baslan«µƒ±shX}, ${baslan«µƒ±shY}) scale(${baslan«µƒ±shMasshtab})`);
            
            √°meldegiMasshtab = d3.zoomIdentity
                .translate(baslan«µƒ±shX, baslan«µƒ±shY)
                .scale(baslan«µƒ±shMasshtab);

            svg.call(zoom.transform, √°meldegiMasshtab);

            // Baylanƒ±s sƒ±zƒ±qlarƒ±
            g.selectAll(".link")
                .data(t√°mƒ±r.links())
                .enter().append("path")
                .attr("class", "link")
                .attr("d", d3.linkVertical()
                    .x(d => d.x)
                    .y(d => d.y));

            // B√≥lekler
            const b√≥lek = g.selectAll(".node")
                .data(t√°mƒ±r.descendants())
                .enter().append("g")
                .attr("class", d => `node node-${d.data.t√∫ri}`)
                .attr("transform", d => `translate(${d.x},${d.y})`)
                .on("click", (e, d) => ma«µlƒ±wmatK√≥rsetiw(d.data));

            // T√≥rtb√∫rƒ±shlar - k√≥lemƒ± d√°rejege qaray √≥zgeredi
            b√≥lek.append("rect")
                .attr("width", d => {
                    const uzƒ±nlƒ±q = Math.max(d.data.at.length * 7 + 16, 50);
                    return d.data.t√∫ri === 'koshe' ? uzƒ±nlƒ±q * 0.8 : uzƒ±nlƒ±q;
                })
                .attr("height", d => d.data.t√∫ri === 'koshe' ? 22 : 28)
                .attr("x", d => {
                    const uzƒ±nlƒ±q = Math.max(d.data.at.length * 7 + 16, 50);
                    const haqƒ±qƒ±yUzƒ±nlƒ±q = d.data.t√∫ri === 'koshe' ? uzƒ±nlƒ±q * 0.8 : uzƒ±nlƒ±q;
                    return -haqƒ±qƒ±yUzƒ±nlƒ±q / 2;
                })
                .attr("y", d => d.data.t√∫ri === 'koshe' ? -11 : -14)
                .attr("rx", 6)
                .attr("stroke-width", d => d.data.t√∫ri === 'xaliq' ? 3 : 2);

            // Ataw m√°tini
            b√≥lek.append("text")
                .attr("dy", ".35em")
                .attr("text-anchor", "middle")
                .style("font-size", d => {
                    if (d.data.t√∫ri === 'koshe') return "9px";
                    if (d.data.t√∫ri === 'tiyre') return "10px";
                    return "11px";
                })
                .text(d => d.data.at);

            // Tam«µa (joqarƒ±da)
            b√≥lek.filter(d => d.data.tamga && d.data.t√∫ri !== 'koshe' && d.data.t√∫ri !== 'tiyre')
                .append("text")
                .attr("class", "tamga-text")
                .attr("dy", -22)
                .attr("text-anchor", "middle")
                .text(d => d.data.tamga);
                
            // Uran (t√≥mende)
            b√≥lek.filter(d => d.data.uran && (d.data.t√∫ri === 'aris' || d.data.t√∫ri === 'ulken'))
                .append("text")
                .attr("dy", 28)
                .attr("text-anchor", "middle")
                .style("font-size", "9px")
                .style("fill", "#d4af37")
                .style("font-weight", "bold")
                .text(d => d.data.uran);
        }

        function ma«µlƒ±wmatK√≥rsetiw(ma«µlƒ±wmat) {
            paneldiAshƒ±w();
            
            document.getElementById('dTamga').textContent = ma«µlƒ±wmat.tamga || (ma«µlƒ±wmat.t√∫ri === 'aris' ? 'üèõÔ∏è' : 'üèπ');
            document.getElementById('dName').textContent = ma«µlƒ±wmat.at;
            
            let qospa = "";
            const t√∫rler = {
                'xaliq': 'Xalƒ±q',
                'aris': 'Arƒ±s (plemennoje ob\'edineniye)',
                'bolim': 'B√≥lim (b√≥lme)',
                'ulken': '√ölken urƒ±w (√∫lken urƒ±w)',
                'uruw': 'Urƒ±w (urƒ±w)',
                'tiyre': 'Tiyre (tiyre)',
                'koshe': 'Ko\'she (b√∫tik)'
            };
            qospa = t√∫rler[ma«µlƒ±wmat.t√∫ri] || 'Ruwlƒ±q birlik';
            if (ma«µlƒ±wmat.ma«µlƒ±wmat && ma«µlƒ±wmat.ma«µlƒ±wmat.qalaqƒ±) qospa += ` ‚Ä¢ ${ma«µlƒ±wmat.ma«µlƒ±wmat.qalaqƒ±}`;
            document.getElementById('dSubtitle').textContent = qospa;
            
            let html = '';
            
            if (ma«µlƒ±wmat.uran) {
                html += `<div class="info-block" style="border-color:#e74c3c; background:rgba(231,76,60,0.1)">
                    <div class="info-label">Soyƒ±s urawƒ± (Uran)</div>
                    <div class="info-content" style="color:#ff8a80; font-size:1.3rem; font-weight:bold; text-align:center">${ma«µlƒ±wmat.uran}</div>
                </div>`;
            }
            
            if (ma«µlƒ±wmat.ma«µlƒ±wmat) {
                if (ma«µlƒ±wmat.ma«µlƒ±wmat.tariyx) {
                    html += `<div class="info-block">
                        <div class="info-label">Tariyxƒ±</div>
                        <div class="info-content">${ma«µlƒ±wmat.ma«µlƒ±wmat.tariyx}</div>
                    </div>`;
                }
                if (ma«µlƒ±wmat.ma«µlƒ±wmat.t√∫begi) {
                    html += `<div class="info-block" style="border-color:#3498db">
                        <div class="info-label">Kelip shƒ±«µƒ±wƒ±</div>
                        <div class="info-content">${ma«µlƒ±wmat.ma«µlƒ±wmat.t√∫begi}</div>
                    </div>`;
                }
                if (ma«µlƒ±wmat.ma«µlƒ±wmat.anƒ±z) {
                    html += `<div class="info-block" style="border-color:#f39c12; background:rgba(243,156,18,0.1)">
                        <div class="info-label">Anƒ±z</div>
                        <div class="info-content"><em>${ma«µlƒ±wmat.ma«µlƒ±wmat.anƒ±z}</em></div>
                    </div>`;
                }
                if (ma«µlƒ±wmat.ma«µlƒ±wmat.qurilimi) {
                    html += `<div class="info-block" style="border-color:#27ae60">
                        <div class="info-label">Qurilimi</div>
                        <div class="info-content">${ma«µlƒ±wmat.ma«µlƒ±wmat.qurilimi}</div>
                    </div>`;
                }
                if (ma«µlƒ±wmat.ma«µlƒ±wmat.qalaqƒ±) {
                    html += `<div class="info-block" style="border-color:#9b59b6">
                        <div class="info-label">Qalaqƒ±</div>
                        <div class="info-content">${ma«µlƒ±wmat.ma«µlƒ±wmat.qalaqƒ±}</div>
                    </div>`;
                }
                if (ma«µlƒ±wmat.ma«µlƒ±wmat.tili) {
                    html += `<div class="info-block">
                        <div class="info-label">Tili</div>
                        <div class="info-content">${ma«µlƒ±wmat.ma«µlƒ±wmat.tili}</div>
                    </div>`;
                }
                if (ma«µlƒ±wmat.ma«µlƒ±wmat.eskertpe) {
                    html += `<div class="info-block" style="border-color:#e67e22">
                        <div class="info-label">Eskertpe</div>
                        <div class="info-content">${ma«µlƒ±wmat.ma«µlƒ±wmat.eskertpe}</div>
                    </div>`;
                }
            }
            
            if (ma«µlƒ±wmat.ballar && ma«µlƒ±wmat.ballar.length > 0) {
                html += `<div class="info-block" style="border-color:#d4af37; text-align:center">
                    <div class="info-label">Toparlar s√°ni</div>
                    <div class="info-content" style="font-size:1.5rem; color:var(--gold); font-weight:bold">${ma«µlƒ±wmat.ballar.length}</div>
                </div>`;
            }
            
            if (ma«µlƒ±wmat.jup) {
                html += `<div class="info-block" style="border-color:#3498db; background:rgba(52,152,219,0.1)">
                    <div class="info-label">Jupar urƒ±w</div>
                    <div class="info-content">${ma«µlƒ±wmat.jup}</div>
                </div>`;
            }
            
            document.getElementById('dContent').innerHTML = html || '<div class="info-block"><div class="info-label">Ma«µlƒ±wmat</div><div class="info-content">Basqa b√≥leklerdi k√≥riw ushƒ±n basƒ±≈Ñ</div></div>';
        }

        function paneldiAshƒ±w() {
    const panel = document.getElementById('details');
    const ashƒ±wKnopkasƒ± = document.getElementById('openPanelBtn');
    
    panel.classList.remove('collapsed');
    panel.classList.add('active');
    ashƒ±wKnopkasƒ±.classList.remove('visible');
    panelAshƒ±q = true;
}

function paneldiJabƒ±w() {
    const panel = document.getElementById('details');
    const ashƒ±wKnopkasƒ± = document.getElementById('openPanelBtn');
    
    panel.classList.add('collapsed');
    panel.classList.remove('active');
    ashƒ±wKnopkasƒ±.classList.add('visible');
    panelAshƒ±q = false;
    
    // –ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —Å–∫—Ä—ã–≤–∞–µ–º –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
    if (window.innerWidth <= 1200) {
        setTimeout(() => {
            if (!panelAshƒ±q) {
                panel.style.display = 'none';
            }
        }, 300);
    }
}

function paneldiAshƒ±w() {
    const panel = document.getElementById('details');
    const ashƒ±wKnopkasƒ± = document.getElementById('openPanelBtn');
    
    // –ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —Å–Ω–∞—á–∞–ª–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º
    if (window.innerWidth <= 1200) {
        panel.style.display = 'block';
        // –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ —á—Ç–æ–±—ã –±—Ä–∞—É–∑–µ—Ä —É—Å–ø–µ–ª –ø—Ä–∏–º–µ–Ω–∏—Ç—å display:block
        setTimeout(() => {
            panel.classList.remove('collapsed');
            panel.classList.add('active');
        }, 10);
    } else {
        panel.classList.remove('collapsed');
        panel.classList.add('active');
    }
    
    ashƒ±wKnopkasƒ±.classList.remove('visible');
    panelAshƒ±q = true;
}

        function ulƒ±wlastƒ±rƒ±w() {
            svg.transition().duration(300).call(zoom.scaleBy, 1.3);
        }

        function alqƒ±stƒ±rƒ±w() {
            svg.transition().duration(300).call(zoom.scaleBy, 0.7);
        }

        function qaƒ±taOrnatƒ±w() {
            terektiBaslaw();
        }

        function burgerMenyunƒ±Aynalƒ±stƒ±rƒ±w() {
            const burger = document.getElementById('burgerMenu');
            const k√≥rinisAlmastƒ±r«µƒ±sh = document.getElementById('viewSwitch');
            
            burger.classList.toggle('active');
            k√≥rinisAlmastƒ±r«µƒ±sh.classList.toggle('active');
        }

        window.onload = function() {
            terektiBaslaw();
            
            document.getElementById('burgerMenu').addEventListener('click', burgerMenyunƒ±Aynalƒ±stƒ±rƒ±w);
            
            document.querySelectorAll('.view-btn').forEach(knopka => {
                knopka.addEventListener('click', function() {
                    if (window.innerWidth <= 768) {
                        burgerMenyunƒ±Aynalƒ±stƒ±rƒ±w();
                    }
                });
            });
            
            document.getElementById('closePanelBtn').addEventListener('click', paneldiJabƒ±w);
            
            document.getElementById('openPanelBtn').addEventListener('click', paneldiAshƒ±w);
            
            // √ìlshem √≥zgergende qaƒ±ta qurƒ±w
            let ke≈Ñ = window.innerWidth;
            window.addEventListener('resize', function() {
                if (window.innerWidth !== ke≈Ñ) {
                    ke≈Ñ = window.innerWidth;
                    setTimeout(terektiBaslaw, 100);
                }
            });
        };
    </script>
</body>
</html>