<!DOCTYPE html>
<html lang="kaa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qaraqalpaq ekzogamiyasÄ± - UrÄ±wlÄ±q tekseriw</title>
    <style>
        :root {
            --primary-bg: #0f1419;
            --secondary-bg: #1a1f2e;
            --accent-red: #e74c3c;
            --accent-orange: #e67e22;
            --accent-yellow: #f1c40f;
            --gold: #f1c40f;
            --accent-green: #2ecc71;
            --accent-blue: #3498db;
            --accent-purple: #9b59b6;
            --accent-cyan: #1abc9c;
            --text-primary: #ecf0f1;
            --text-secondary: #bdc3c7;
            --border-color: #34495e;
            --success: #27ae60;
            --danger: #c0392b;
            --warning: #f39c12;
            --info: #3498db;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f1419 0%, #1a1f2e 100%);
            min-height: 100vh;
            color: var(--text-primary);
            overflow-x: hidden;
            padding-top: 80px;
        }

        header {
            position: fixed;
            top: 0; left: 0; right: 0;
            background: rgba(10,12,16,0.95);
            border-bottom: 2px solid var(--gold);
            padding: 1rem 2rem;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            backdrop-filter: blur(10px);
        }

        .logo { 
            display: flex; 
            align-items: center; 
            gap: 10px;
        }
        
        .logo h1 { 
            font-family: 'Cormorant Garamond', serif; 
            color: var(--gold); 
            font-size: 1.8rem; 
            margin: 0;
        }
        
        .view-switch {
            display: flex;
            gap: 0.5rem;
            background: rgba(255,255,255,0.1);
            padding: 0.25rem;
            border-radius: 20px;
        }
        
        .view-btn {
            padding: 0.5rem 1.5rem;
            border-radius: 16px;
            border: none;
            background: transparent;
            color: #8892b0;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            font-size: 0.9rem;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .view-btn:hover {
            color: var(--text-primary);
            background: rgba(255,255,255,0.1);
        }
        
        .view-btn.active {
            background: var(--gold);
            color: #000;
            font-weight: 600;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .title-section {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            border: 1px solid var(--border-color);
        }

        .title-section h2 {
            color: var(--accent-yellow);
            font-size: 2em;
            margin-bottom: 10px;
        }

        .title-section p {
            color: var(--text-secondary);
            font-size: 1.1em;
        }

        .exogamy-checker {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        @media (max-width: 768px) {
            .exogamy-checker {
                grid-template-columns: 1fr;
            }
        }

        .selector-panel {
            background: var(--secondary-bg);
            border: 2px solid var(--border-color);
            border-radius: 15px;
            padding: 20px;
            position: relative;
            overflow: hidden;
        }

        .selector-panel::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--accent-orange), var(--accent-yellow));
        }

        .panel-title {
            font-size: 1.3em;
            color: var(--accent-cyan);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .selected-display {
            background: rgba(0,0,0,0.3);
            border: 2px solid var(--accent-blue);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            color: var(--accent-yellow);
            transition: all 0.3s;
        }

        .selected-display.empty {
            color: var(--text-secondary);
            border-color: var(--border-color);
            font-style: italic;
        }

        .clear-btn {
            background: var(--accent-red);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9em;
            margin-bottom: 15px;
            transition: all 0.3s;
            display: none;
        }

        .clear-btn:hover {
            background: #c0392b;
            transform: translateY(-2px);
        }

        .clear-btn.visible {
            display: inline-block;
        }

        .tree-selector {
            max-height: 400px;
            overflow-y: auto;
            background: rgba(0,0,0,0.2);
            border-radius: 10px;
            padding: 10px;
        }

        .tree-node {
            margin: 5px 0;
            padding-left: 20px;
        }

        .tree-item {
            padding: 8px 12px;
            margin: 3px 0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
            border: 1px solid transparent;
        }

        .tree-item:hover {
            background: rgba(255,255,255,0.1);
            border-color: var(--accent-blue);
        }

        .tree-item.selected {
            background: rgba(46, 204, 113, 0.2);
            border-color: var(--accent-green);
            color: var(--accent-green);
        }

        .tree-item.disabled {
            opacity: 0.4;
            cursor: not-allowed;
            pointer-events: none;
        }

        .tree-toggle {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--accent-yellow);
            font-size: 0.8em;
        }

        .node-level-0 { margin-left: 0; }
        .node-level-1 { margin-left: 15px; }
        .node-level-2 { margin-left: 30px; }
        .node-level-3 { margin-left: 45px; }
        .node-level-4 { margin-left: 60px; }
        .node-level-5 { margin-left: 75px; }

        .level-badge {
            font-size: 0.7em;
            padding: 2px 6px;
            border-radius: 4px;
            background: var(--accent-blue);
            color: white;
        }

        .result-panel {
            background: var(--secondary-bg);
            border: 2px solid var(--border-color);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            margin-top: 30px;
            position: relative;
            overflow: hidden;
        }

        .result-panel::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 4px;
        }

        .result-panel.allowed::before {
            background: linear-gradient(90deg, var(--accent-green), #2ecc71);
        }

        .result-panel.forbidden::before {
            background: linear-gradient(90deg, var(--accent-red), #e74c3c);
        }

        .result-panel.pending::before {
            background: linear-gradient(90deg, var(--warning), #f1c40f);
        }

        .result-panel.exception::before {
            background: linear-gradient(90deg, var(--info), #3498db);
        }

        .result-icon {
            font-size: 4em;
            margin-bottom: 20px;
        }

        .result-title {
            font-size: 2em;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .result-description {
            font-size: 1.1em;
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .result-details {
            background: rgba(0,0,0,0.2);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            text-align: left;
        }

        .result-details h4 {
            color: var(--accent-cyan);
            margin-bottom: 10px;
        }

        .result-details ul {
            list-style: none;
            padding: 0;
        }

        .result-details li {
            padding: 5px 0;
            padding-left: 20px;
            position: relative;
        }

        .result-details li::before {
            content: 'â€¢';
            position: absolute;
            left: 0;
            color: var(--accent-yellow);
        }

        .exception-note {
            background: rgba(52, 152, 219, 0.15);
            border: 2px solid var(--accent-blue);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            text-align: left;
        }

        .exception-note h4 {
            color: var(--accent-cyan);
            margin-bottom: 10px;
        }

        .allowed .result-icon { color: var(--accent-green); }
        .allowed .result-title { color: var(--accent-green); }
        
        .forbidden .result-icon { color: var(--accent-red); }
        .forbidden .result-title { color: var(--accent-red); }
        
        .pending .result-icon { color: var(--warning); }
        .pending .result-title { color: var(--warning); }

        .exception .result-icon { color: var(--info); }
        .exception .result-title { color: var(--info); }

        .info-section {
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 20px;
            margin-top: 30px;
            border: 1px solid var(--border-color);
        }

        .info-section h3 {
            color: var(--accent-yellow);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .rules-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .rule-card {
            background: rgba(0,0,0,0.2);
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid var(--accent-blue);
        }

        .rule-card h4 {
            color: var(--accent-cyan);
            margin-bottom: 8px;
            font-size: 0.95em;
        }

        .rule-card p {
            color: var(--text-secondary);
            font-size: 0.9em;
            line-height: 1.5;
        }

        .rule-card.allowed { border-left-color: var(--accent-green); }
        .rule-card.forbidden { border-left-color: var(--accent-red); }
        .rule-card.warning { border-left-color: var(--warning); }
        .rule-card.exception { border-left-color: var(--info); }

        .collapse-all, .expand-all {
            background: var(--accent-purple);
            color: white;
            border: none;
            padding: 6px 8px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 0.8em;
            margin-left: 10px;
            transition: all 0.3s;
        }

        .collapse-all:hover, .expand-all:hover {
            background: #8e44ad;
        }

        .tree-selector::-webkit-scrollbar {
            width: 8px;
        }

        .tree-selector::-webkit-scrollbar-track {
            background: rgba(0,0,0,0.2);
            border-radius: 4px;
        }

        .tree-selector::-webkit-scrollbar-thumb {
            background: var(--accent-blue);
            border-radius: 4px;
        }

        .lang-switch {
            display: flex;
            gap: 0.5rem;
            margin-left: 1rem;
            padding-left: 1rem;
            border-left: 1px solid rgba(212,175,55,0.3);
        }

       .lang-btn {
    /* padding: 0.1rem 0.1rem; */
    border-radius: 10px;
    border: 1px solid var(--gold);
    background: transparent;
    color: var(--gold);
    cursor: pointer;
    font-size: 0.65rem;
    font-weight: 400;
    transition: all 0.3s;
    text-decoration: none;
}
.lang-btn1 {
    padding: 0.4rem 0.4rem;
    border-radius: 8px;
    /* border: 1px solid var(--gold); */
    background: transparent;
    color: var(--gold);
    cursor: pointer;
    font-size: 0.85rem;
    font-weight: 600;
    transition: all 0.3s;
    text-decoration: none;
}
.lang-btn img {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    vertical-align: middle;
}
.lang-btn1 img {
    width: 40px;
    height: 40px;
    margin-top: 5px;
    border-radius: 50%;
    vertical-align: middle;
}

.lang-btn:hover {
    background: rgba(212,175,55,0.1);
}

.lang-btn.active {
    background: #000000;
    color: #000;
    border: 1px solid var(--accent-orange);
}

.lang-btn1:hover {
    border: 1px solid var(--gold);
   
}
.lang-btn1.active {
    background: #000;
    color: #000;
}

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .checking {
            animation: pulse 1s infinite;
        }

        @media (max-width: 768px) {
            .lang-switch {
                margin-left: 0;
                padding-left: 0;
                border-left: none;
                border-top: 1px solid rgba(212,175,55,0.3);
                padding-top: 0.5rem;
                margin-top: 0.5rem;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <span style="font-size: 2rem;">ğŸ’‘</span>
            <h1>Ekzogamiya</h1>
        </div>
        <div class="view-switch">
            <a href="index.html" class="view-btn" target="_self">ğŸ  Bas bet</a>
            <a href="listsQQ.html" class="view-btn" target="_self">ğŸ“‹ Tizimler</a>
            <a href="schemeQQ.html" class="view-btn" target="_self">ğŸŒ³ Shema</a>
            <a href="exogamyQQ.html" class="view-btn active" target="_self">ğŸ’‘ Ekzogamiya</a>
        </div>

        <div class="lang-switch">
            <a target="_self" href="index.html" class="lang-btn active"><img src="./images/QQ_.png" alt="QQ"></a>
            <a target="_self" href="indexKZ.html" class="lang-btn1"><img src="./images/KZ.webp" alt="KZ"></a>
        </div>
    </header>

    <div class="container">
        <div class="title-section">
            <h2>Qaraqalpaq urÄ±wlÄ±q ekzogamiyasÄ±</h2>
            <p>Neke ushÄ±n urÄ±wlÄ±q tekseriw</p>
        </div>

        <div class="exogamy-checker">
            <div class="selector-panel">
                <div class="panel-title">
                    ğŸ¤µ KÃºyew
                    <button class="collapse-all" onclick="collapseAll('groom')">JÄ±ynaw</button>
                    <button class="expand-all" onclick="expandAll('groom')">JayÄ±w</button>
                </div>
                <div id="groomDisplay" class="selected-display empty">TÃºrdi taÅ„laÅ„</div>
                <button class="clear-btn" id="groomClear" onclick="clearSelection('groom')">âŒ Tazalaw</button>
                <div id="groomTree" class="tree-selector"></div>
            </div>

            <div class="selector-panel">
                <div class="panel-title">
                    ğŸ‘° Kelin
                    <button class="collapse-all" onclick="collapseAll('bride')">JÄ±ynaw</button>
                    <button class="expand-all" onclick="expandAll('bride')">JayÄ±w</button>
                </div>
                <div id="brideDisplay" class="selected-display empty">TÃºrdi taÅ„laÅ„</div>
                <button class="clear-btn" id="brideClear" onclick="clearSelection('bride')">âŒ Tazalaw</button>
                <div id="brideTree" class="tree-selector"></div>
            </div>
        </div>

        <div id="resultPanel" class="result-panel pending">
            <div class="result-icon">â³</div>
            <div class="result-title">TaÅ„lawdÄ± kÃºtiw</div>
            <div class="result-description">
                Eki tÃ¡rep te taÅ„laÇµannan soÅ„, nekeniÅ„ mÃºmkinshiligi tekseriledi
            </div>
            <div class="result-details" id="resultDetails" style="display: none;"></div>
        </div>

        <div class="info-section">
            <h3>ğŸ“š Ekzogamiya qaÇµÄ±ydalarÄ±</h3>
            <div class="rules-grid">
                <div class="rule-card forbidden">
                    <h4>âŒ QadaÇµan</h4>
                    <p>Bir qoshtÄ±Å„ yamasa tiyreniÅ„ ishinde nekeleiw incest dep esaplanadÄ±.</p>
                </div>
                <div class="rule-card exception">
                    <h4>ğŸ’¡ AyrÄ±qsha jaÇµday</h4>
                    <p>MÃºyten urÄ±wÄ±: KeÅ„taÅ„aw, Teli, Samat, AbÄ±z tiyreleri arasÄ±nda neke ruxsat.</p>
                </div>
                <div class="rule-card warning">
                    <h4>âŒ QadaÇµan</h4>
                    <p>Basqa ruwlarda: bir urÄ±wdÄ±Å„ ishinde nekelew qadaÇµan.</p>
                </div>
                <div class="rule-card allowed">
                    <h4>âœ… Ruxsat etilgen</h4>
                    <p>HÃ¡r qÄ±ylÄ± urÄ±wlardan, arÄ±slardan yamasa bÃ³lek taypalardan.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const tribeData = {
            id: "root", name: "QARAQALPAQLAR", level: 0, type: "xalÄ±q",
            children: [
                {
                    id: "conyrat", name: "ARYS QOÅƒYRAT", level: 1, type: "arÄ±s", tamga: "P (bosaÇµa)", uran: "Qaqpa",
                    children: [
                        {
                            id: "shulyk", name: "SHULYQ BÃ“LIMI", level: 2, type: "bÃ³lim",
                            children: [
                                {
                                    id: "kyat", name: "QYAT", level: 3, type: "Ãºlken urÄ±w", tamga: "Ãšsh taÅ„ba", uran: "Alataw",
                                    children: [
                                        {
                                            id: "ush-tambaly", name: "ÃšshtaÅ„balÄ±", level: 4, type: "tiyre",
                                            children: [
                                                { id: "sanmurun-k", name: "SaÅ„murÄ±n", level: 5, type: "ko'she" },
                                                { id: "aryq-kyat", name: "ArÄ±qqÄ±yat", level: 5, type: "ko'she" },
                                                { id: "tartuly", name: "TartulÄ±", level: 5, type: "ko'she" },
                                                { id: "qanzhygaly-k", name: "QanjÄ±ÇµalÄ±", level: 5, type: "ko'she" },
                                                { id: "qatagan", name: "QataÇµan", level: 5, type: "ko'she" },
                                                { id: "qara-kyat", name: "QaraqÄ±yat", level: 5, type: "ko'she" }
                                            ]
                                        },
                                        {
                                            id: "taraqty", name: "TaraqtÄ±", level: 4, type: "tiyre",
                                            children: [
                                                { id: "togyzaq", name: "ToÇµÄ±zaq", level: 5, type: "ko'she" },
                                                { id: "abas-kyat", name: "Abas", level: 5, type: "ko'she" },
                                                { id: "jaltyrshy", name: "JaltÄ±rshÄ±", level: 5, type: "ko'she" },
                                                { id: "aqunqaragan", name: "AqunqaraÇµan", level: 5, type: "ko'she" },
                                                { id: "taqay", name: "Taqay", level: 5, type: "ko'she" },
                                                { id: "qarzhaubaras", name: "Qarjawbaras", level: 5, type: "ko'she" }
                                            ]
                                        },
                                        {
                                            id: "balgaly-kyat", name: "BalÇµalÄ± QÄ±yat", level: 4, type: "tiyre",
                                            children: [
                                                { id: "bespishaq", name: "BespÄ±shaq", level: 5, type: "ko'she" },
                                                { id: "etekshi", name: "Etekshi", level: 5, type: "ko'she" },
                                                { id: "sanmurun-bk", name: "SaÅ„murÄ±n", level: 5, type: "ko'she" },
                                                { id: "qozhaqaragan", name: "QojaqqaraÇµan", level: 5, type: "ko'she" }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    id: "ashamayly", name: "ASHAMAYLY", level: 3, type: "urÄ±w", tamga: "ASH", uran: "ShulÄ±q",
                                    children: [
                                        { id: "saqu", name: "Saqu", level: 4, type: "tiyre" },
                                        { id: "qaraqoja", name: "Qaraqoja", level: 4, type: "tiyre" },
                                        { id: "jalangayaq", name: "JalaÅ„ayaq", level: 4, type: "tiyre" },
                                        { id: "ajyldy", name: "AiyldÄ±", level: 4, type: "tiyre" },
                                        {
                                            id: "qobasan", name: "Qobasan", level: 4, type: "tiyre",
                                            children: [
                                                { id: "aqnazar", name: "Aqnazar", level: 5, type: "ko'she" },
                                                { id: "jansary", name: "JansarÄ±", level: 5, type: "ko'she" },
                                                { id: "otemis-q", name: "Ã“temis", level: 5, type: "ko'she" },
                                                { id: "esen", name: "Esen", level: 5, type: "ko'she" },
                                                { id: "tampysh", name: "TampÄ±sh", level: 5, type: "ko'she" }
                                            ]
                                        },
                                        { id: "turkmenqara", name: "TÃºrkmenqara", level: 4, type: "tiyre" },
                                        { id: "jappar", name: "Jappar", level: 4, type: "tiyre" },
                                        { id: "sary-ash", name: "SarÄ±", level: 4, type: "tiyre" },
                                        { id: "abyz-ash", name: "AbÄ±z", level: 4, type: "tiyre" },
                                        { id: "aqay", name: "Aqay", level: 4, type: "tiyre" },
                                        { id: "pangqara", name: "PaÅ„qara", level: 4, type: "tiyre" },
                                        {
                                            id: "ush-bas", name: "Ãšsh bas", level: 4, type: "tiyre",
                                            children: [{ id: "jaman-ub", name: "Jaman", level: 5, type: "ko'she" }]
                                        },
                                        { id: "qurama", name: "Qurama", level: 4, type: "tiyre" }
                                    ]
                                },
                                {
                                    id: "koldauli", name: "QOLDAULY", level: 3, type: "urÄ±w", tamga: "QLD", uran: "Qoldaw",
                                    children: [
                                        { id: "beskempir", name: "Beskempir", level: 4, type: "tiyre" },
                                        { id: "maishyshaly", name: "MayshÄ±shalÄ±", level: 4, type: "tiyre" },
                                        { id: "qalqaman", name: "Qalqaman", level: 4, type: "tiyre" },
                                        { id: "ghajypqaragan", name: "Ç´ayÄ±pqaraÇµan", level: 4, type: "tiyre" },
                                        { id: "sarytan-k", name: "SarÄ±tan", level: 4, type: "tiyre" },
                                        { id: "kulkiqozhaq", name: "KÃºlkiqojaqq", level: 4, type: "tiyre" },
                                        { id: "jarymbet", name: "JarÄ±mbet", level: 4, type: "tiyre" },
                                        { id: "qyzylayaq", name: "QÄ±zÄ±layaq", level: 4, type: "tiyre" },
                                        { id: "karasiraq-k", name: "QarasÄ±raq", level: 4, type: "tiyre" },
                                        { id: "jelqaragan", name: "JelqaraÇµan", level: 4, type: "tiyre" },
                                        { id: "ulkenborik", name: "ÃšlkenbÃ³rik", level: 4, type: "tiyre" },
                                        { id: "shylzhuyt", name: "ShÄ±ljuÄ±t", level: 4, type: "tiyre" },
                                        { id: "jamanqonyrat", name: "JamanqoÅ„Ä±rat", level: 4, type: "tiyre" },
                                        {
                                            id: "kalmaq", name: "Qalmaq", level: 4, type: "tiyre",
                                            children: [
                                                { id: "adil", name: "Adil", level: 5, type: "ko'she" },
                                                { id: "ereke", name: "Ereke", level: 5, type: "ko'she" }
                                            ]
                                        },
                                        { id: "jaman-aul", name: "Jaman awÄ±l", level: 4, type: "tiyre" }
                                    ]
                                },
                                {
                                    id: "kostambali", name: "QOSTAÅƒBALY", level: 3, type: "urÄ±w", tamga: "II", uran: "Qosqa",
                                    children: [
                                        { id: "jangildi-k", name: "Jangeldi", level: 4, type: "tiyre" },
                                        { id: "shirzhegen", name: "Shirjegen", level: 4, type: "tiyre" },
                                        { id: "aghabegli", name: "AÇµabegli", level: 4, type: "tiyre" },
                                        { id: "qarynzhuan", name: "QarÄ±njuan", level: 4, type: "tiyre" },
                                        { id: "kostambali-k", name: "QostaÅ„balÄ±", level: 4, type: "tiyre" },
                                        { id: "qaraqursaq-k", name: "Qaraqursaq", level: 4, type: "tiyre" },
                                        { id: "qazaqy-k", name: "QazaqÄ±", level: 4, type: "tiyre" }
                                    ]
                                },
                                {
                                    id: "balgali", name: "BALÇ´ALY", level: 3, type: "urÄ±w", tamga: "B", uran: "BalÇµa",
                                    children: [
                                        { id: "aqbalgali", name: "AqbalÇµalÄ±", level: 4, type: "tiyre" },
                                        { id: "nurbalgali", name: "Nur balÇµalÄ±", level: 4, type: "tiyre" },
                                        { id: "turkmen-b", name: "TÃºrkmen", level: 4, type: "tiyre" },
                                        { id: "jamanaul-b", name: "Jaman awÄ±l", level: 4, type: "tiyre" },
                                        { id: "shomishti", name: "ShÃ³mishti", level: 4, type: "tiyre" },
                                        { id: "toqymbet", name: "ToqÄ±mbet", level: 4, type: "tiyre" },
                                        { id: "tazbalgali", name: "Taz balÇµalÄ±", level: 4, type: "tiyre" },
                                        { id: "kostamgali-b", name: "QostamÇµalÄ±", level: 4, type: "tiyre" },
                                        { id: "qaratalshy", name: "QaratalshÄ±", level: 4, type: "tiyre" },
                                        { id: "asan", name: "Asan", level: 4, type: "tiyre" },
                                        { id: "arzyqul", name: "ArzÄ±qul", level: 4, type: "tiyre" }
                                    ]
                                },
                                {
                                    id: "kandekli", name: "KÃNDEKLI", level: 3, type: "urÄ±w", tamga: "G", uran: "KÃ³ndek",
                                    children: [
                                        { id: "qarama-kan", name: "Qarama", level: 4, type: "tiyre" },
                                        { id: "kiikshi", name: "Kiikshi", level: 4, type: "tiyre" },
                                        { id: "toqbolat-kan", name: "Toqbolat", level: 4, type: "tiyre" },
                                        { id: "qyryqsadaq", name: "QÄ±rÄ±qsadaq", level: 4, type: "tiyre" }
                                    ]
                                },
                                {
                                    id: "karamoiyn", name: "QARAMOYIN", level: 3, type: "urÄ±w", tamga: "TM", uran: "MoyÄ±n",
                                    children: [
                                        { id: "annakhoja", name: "Annahoja", level: 4, type: "tiyre" },
                                        { id: "sabalaq", name: "Sabalaq", level: 4, type: "tiyre" },
                                        { id: "kotelek", name: "KÃ³telek", level: 4, type: "tiyre" },
                                        { id: "qarlymaral", name: "QarÄ±lmaral", level: 4, type: "tiyre" },
                                        { id: "bulkildek", name: "BÃºlkildek", level: 4, type: "tiyre" }
                                    ]
                                },
                                {
                                    id: "muyten", name: "MÃšYTEN", level: 3, type: "urÄ±w", tamga: "Ãšsh shanyshqÄ±", uran: "Aqsholpan",
                                    children: [
                                        {
                                            id: "samat", name: "Samat (5)", level: 4, type: "tiyre",
                                            children: [
                                                { id: "baibishe", name: "BaybÃ­she", level: 5, type: "ko'she" },
                                                { id: "toqqaragan", name: "ToqqaraÇµan", level: 5, type: "ko'she" },
                                                { id: "baimurat", name: "Baymurat", level: 5, type: "ko'she" },
                                                { id: "jolan", name: "Jolan", level: 5, type: "ko'she" },
                                                { id: "bekau", name: "Bekaw", level: 5, type: "ko'she" }
                                            ]
                                        },
                                        {
                                            id: "teli", name: "Teli (5)", level: 4, type: "tiyre",
                                            children: [
                                                { id: "tileuberdi", name: "Tilewberdi", level: 5, type: "ko'she" },
                                                { id: "allaberdi", name: "Allaberdi", level: 5, type: "ko'she" },
                                                { id: "tangirberdi", name: "TaÅ„irberdi", level: 5, type: "ko'she" },
                                                { id: "mantyqaragan", name: "MantÄ±qqaraÇµan", level: 5, type: "ko'she" },
                                                { id: "molloqaragan", name: "MollaqqaraÇµan", level: 5, type: "ko'she" }
                                            ]
                                        },
                                        {
                                            id: "abyz-m", name: "AbÄ±z", level: 4, type: "tiyre",
                                            children: [{ id: "ady", name: "AdÄ±", level: 5, type: "ko'she" }]
                                        },
                                        {
                                            id: "kentanau", name: "KeÅ„taÅ„aw (3)", level: 4, type: "tiyre",
                                            children: [
                                                { id: "barn", name: "Barn", level: 5, type: "ko'she" },
                                                { id: "itaq", name: "Itaq", level: 5, type: "ko'she" },
                                                { id: "jekensal", name: "Jekensal", level: 5, type: "ko'she" }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            id: "jauyngyr", name: "JAUINÇ´IR BÃ“LIMI", level: 2, type: "bÃ³lim",
                            children: [
                                { id: "teristambaly", name: "TERISTAÅƒBALY", level: 3, type: "urÄ±w", tamga: "T", uran: "JauÄ±nÇµÄ±r", children: [{id:"shomak",name:"Shomaq",level:4,type:"tiyre"},{id:"hangildi",name:"Hangildi",level:4,type:"tiyre"},{id:"baiqaragan",name:"BayqaraÇµan",level:4,type:"tiyre"},{id:"elshibai",name:"Elshibay",level:4,type:"tiyre"},{id:"qurban-t",name:"Qurban",level:4,type:"tiyre"},{id:"togai",name:"ToÇµÄ±z",level:4,type:"tiyre"},{id:"tyle",name:"Tile",level:4,type:"tiyre"},{id:"tebegen",name:"Tebegen",level:4,type:"tiyre"},{id:"tum",name:"Tum",level:4,type:"tiyre"},{id:"tyrk",name:"TÃºrkistan",level:4,type:"tiyre"}] },
                                { id: "bakanly", name: "BAQANLY", level: 3, type: "urÄ±w", tamga: "B", uran: "JauÄ±nÇµÄ±r", children: [{id:"tanmail-b",name:"TaÅ„mayÄ±l",level:4,type:"tiyre"},{id:"zhananai",name:"Jaganay",level:4,type:"tiyre"},{id:"naiman-b",name:"Nayman",level:4,type:"tiyre"},{id:"aiys-b",name:"AiyÄ±s",level:4,type:"tiyre"}] },
                                { id: "tyekli", name: "TIYEKTI", level: 3, type: "urÄ±w", tamga: "TK", uran: "JauÄ±nÇµÄ±r", children: [{id:"shishi-t",name:"Shishi",level:4,type:"tiyre",children:[{id:"shishi-kosh",name:"Shishi",level:5,type:"ko'she"}]},{id:"tumanai-t",name:"Tumanay",level:4,type:"tiyre",children:[{id:"tumanai-kosh",name:"Tumanay",level:5,type:"ko'she"}]},{id:"maulik-t",name:"Mawlik",level:4,type:"tiyre",children:[{id:"maulik-kosh",name:"Mawlik",level:5,type:"ko'she"}]},{id:"bairam-t",name:"Bayram",level:4,type:"tiyre",children:[{id:"bairam-kosh",name:"Bayram",level:5,type:"ko'she"}]}] },
                                { id: "yrgaqty", name: "YRGHAQTY", level: 3, type: "urÄ±w", tamga: "Y", uran: "JauÄ±nÇµÄ±r", children: [{id:"atanai-y",name:"Atanay",level:4,type:"tiyre",children:[{id:"atanai-kosh",name:"Atanay",level:5,type:"ko'she"}]},{id:"eshkili-y",name:"Eshkili",level:4,type:"tiyre",children:[{id:"eshkili-kosh",name:"Eshkili",level:5,type:"ko'she"}]},{id:"baibura-y",name:"Baybura",level:4,type:"tiyre",children:[{id:"baibura-kosh",name:"Baybura",level:5,type:"ko'she"}]},{id:"sarytan-y",name:"SarÄ±tan",level:4,type:"tiyre",children:[{id:"sarytan-kosh",name:"SarÄ±tan",level:5,type:"ko'she"}]}] },
                                { id: "baimaqty", name: "BAYMAQTY", level: 3, type: "urÄ±w", tamga: "BM", uran: "JauÄ±nÇµÄ±r", children: [{id:"saspaq",name:"Saspaq",level:4,type:"tiyre"},{id:"uies",name:"Ãšyes",level:4,type:"tiyre"},{id:"tanmail-bm",name:"TaÅ„mayÄ±l",level:4,type:"tiyre"},{id:"zhananai-bm",name:"Jaganay",level:4,type:"tiyre"},{id:"naiman-bm",name:"Nayman",level:4,type:"tiyre"},{id:"aiys-bm",name:"AiyÄ±s",level:4,type:"tiyre"}] },
                                { id: "kazayakty", name: "QAZAYAQTY", level: 3, type: "urÄ±w", tamga: "QZ", uran: "JauÄ±nÇµÄ±r", children: [{id:"anetai",name:"Anetay",level:4,type:"tiyre"},{id:"zharimbet-k",name:"JarÄ±mbet",level:4,type:"tiyre"},{id:"zhundi",name:"Jundi",level:4,type:"tiyre"},{id:"sadaq",name:"Sadaq",level:4,type:"tiyre"}] },
                                { id: "uygyr", name: "UYÇ´IR", level: 3, type: "urÄ±w", tamga: "U", uran: "JauÄ±nÇµÄ±r", children: [{id:"shishi-u",name:"Shishi",level:4,type:"tiyre"},{id:"tumanai-u",name:"Tumanay",level:4,type:"tiyre"},{id:"sabalaq-u",name:"Sabalaq",level:4,type:"tiyre"},{id:"maulik-u",name:"Mawlik",level:4,type:"tiyre"},{id:"bairam-u",name:"Bayram",level:4,type:"tiyre"},{id:"syrgaly",name:"SÄ±rÇµalÄ±",level:4,type:"tiyre"}] }
                            ]
                        }
                    ]
                },
                {
                    id: "onTort", name: "ARYS ON TÃ“RT", level: 1, type: "arÄ±s",
                    children: [
                        {
                            id: "kytaÄ±", name: "QYITAY", level: 2, type: "Ãºlken urÄ±w", tamga: "Q", uran: "UllÄ± taw",
                            children: [
                                { id: "bessary", name: "BESSARY", level: 3, type: "urÄ±w", tamga: "BS", uran: "UllÄ± taw", children: [{id:"zhunli",name:"JÃºnli",level:4,type:"tiyre"},{id:"qoyly",name:"QoylÄ±",level:4,type:"tiyre"}] },
                                { id: "beksyyk", name: "BEKSIIK", level: 3, type: "urÄ±w", tamga: "BS", uran: "UllÄ± taw", children: [{id:"zherger",name:"Zerger",level:4,type:"tiyre"},{id:"masai",name:"Masay",level:4,type:"tiyre"},{id:"shyghyrshy",name:"ShÄ±ÇµÄ±rshÄ±",level:4,type:"tiyre"},{id:"malay",name:"Malay",level:4,type:"tiyre"}] },
                                { id: "kazayakly-k", name: "QAZAYAQLY", level: 3, type: "urÄ±w", tamga: "QZ", uran: "UllÄ± taw", children: [{id:"kalsen",name:"KÃ¡lsen",level:4,type:"tiyre"},{id:"kuyik",name:"KÃºyik",level:4,type:"tiyre"},{id:"myrzai",name:"MÄ±rzay",level:4,type:"tiyre"},{id:"qylymoiyn",name:"QÄ±lmoyÄ±n",level:4,type:"tiyre"},{id:"zhylkybai",name:"JÄ±lqbay",level:4,type:"tiyre"},{id:"baibishe-kz",name:"BaybÃ­she",level:4,type:"tiyre",children:[{id:"baibishe-kosh",name:"BaybÃ­she",level:5,type:"ko'she"}]}] },
                                { id: "kaishyly", name: "QAISHYLY", level: 3, type: "urÄ±w", tamga: "QSh", uran: "UllÄ± taw", children: [{id:"aqymbet",name:"AqÄ±mbet",level:4,type:"tiyre"},{id:"zhuansan",name:"Juwansan",level:4,type:"tiyre"},{id:"koterehoja",name:"KÃ³terehoja",level:4,type:"tiyre"},{id:"tanamyrza",name:"TaÅ„amÄ±rza",level:4,type:"tiyre"},{id:"baqy",name:"BaqÄ±",level:4,type:"tiyre"},{id:"sybyl",name:"SÄ±bÄ±l",level:4,type:"tiyre"},{id:"basar",name:"Basar",level:4,type:"tiyre"},{id:"tolyq",name:"Tolyq",level:4,type:"tiyre"},{id:"yaby",name:"YabÄ±",level:4,type:"tiyre"}] },
                                { id: "aitereke", name: "ÃYTEKE", level: 3, type: "urÄ±w", tamga: "ÃT", uran: "UllÄ± taw", children: [{id:"zhadyq",name:"JÃ¡dik",level:4,type:"tiyre"},{id:"yrsymbek",name:"YrsÄ±mbek",level:4,type:"tiyre"},{id:"orazymbet",name:"OrazÄ±mbet",level:4,type:"tiyre"},{id:"tangirkul",name:"TaÅ„irkul",level:4,type:"tiyre"},{id:"bektes",name:"Bektes",level:4,type:"tiyre",children:[{id:"bektes-kosh",name:"Bektes",level:5,type:"ko'she"}]},{id:"nauriz",name:"Nawriz",level:4,type:"tiyre",children:[{id:"nauriz-kosh",name:"Nawriz",level:5,type:"ko'she"}]},{id:"maniuwli-a",name:"ManjÃºwli",level:4,type:"tiyre",children:[{id:"maniuwli-kosh",name:"ManjÃºwli",level:5,type:"ko'she"}]},{id:"tazshylyq",name:"TazshÄ±lÄ±q",level:4,type:"tiyre",children:[{id:"tazshylyq-kosh",name:"TazshÄ±lÄ±q",level:5,type:"ko'she"}]}] },
                                { id: "manjuwli-k", name: "MANJÃšWLI", level: 3, type: "urÄ±w", tamga: "MÅ„", uran: "UllÄ± taw", children: [{id:"eki-shyiq",name:"Eki shÄ±yÄ±q",level:4,type:"tiyre"},{id:"qaramanjuwli",name:"QaramanjÃºwli",level:4,type:"tiyre"},{id:"aiiereke",name:"Ãyereke",level:4,type:"tiyre"}] },
                                { id: "aralbai", name: "ARALBAY", level: 3, type: "urÄ±w", tamga: "AR", uran: "UllÄ± taw", children: [{id:"aqqala",name:"Aqqala",level:4,type:"tiyre"},{id:"qalmuart-ar",name:"Qalmurat",level:4,type:"tiyre"},{id:"ogizbaishy",name:"Ã“gizbayshÄ±",level:4,type:"tiyre"},{id:"baibishe-ar",name:"BaybÃ­she",level:4,type:"tiyre"},{id:"tile-qusshy",name:"Tilew qushÄ±",level:4,type:"tiyre"}] }
                            ]
                        },
                        {
                            id: "kypshak", name: "QYPSHAQ", level: 2, type: "Ãºlken urÄ±w", tamga: "I", uran: "Toqsaba",
                            children: [
                                { id: "kangly", name: "QAÅƒLY", level: 3, type: "urÄ±w", tamga: "QÅ„", uran: "Toqsaba", children: [{id:"tram",name:"Tram",level:4,type:"tiyre"},{id:"qatqangly",name:"QatqaÅ„lÄ±",level:4,type:"tiyre"},{id:"yrghaqly",name:"YrÇµaqÄ±lÄ±",level:4,type:"tiyre"},{id:"ashamaily-k",name:"AshamaylÄ±",level:4,type:"tiyre"},{id:"taraqty-k",name:"TaraqtÄ±",level:4,type:"tiyre"},{id:"baspak",name:"Baspaq",level:4,type:"tiyre"},{id:"aiat",name:"Aiyat",level:4,type:"tiyre"},{id:"bosyn",name:"BosÄ±n",level:4,type:"tiyre"},{id:"basapat",name:"Basapat",level:4,type:"tiyre"},{id:"konyrqazy",name:"QoÅ„Ä±rqazÄ±",level:4,type:"tiyre"},{id:"kenes",name:"Kenes",level:4,type:"tiyre"},{id:"tashkent",name:"Tashkent",level:4,type:"tiyre"}] },
                                { id: "sanmuryn", name: "SAÅƒMURIN", level: 3, type: "urÄ±w", tamga: "SM", uran: "Toqsaba", children: [{id:"konshi",name:"KÃ³nshi",level:4,type:"tiyre"},{id:"tubai",name:"Tubay",level:4,type:"tiyre"},{id:"eshkili",name:"Eshkili",level:4,type:"tiyre"},{id:"zhaipaq-shek",name:"Jalpaq shek",level:4,type:"tiyre"},{id:"tolebai",name:"TÃ³lebay",level:4,type:"tiyre"},{id:"zhabashy",name:"JabashÄ±",level:4,type:"tiyre"}] },
                                { id: "estek", name: "ESTEK", level: 3, type: "urÄ±w", tamga: "ES", uran: "Toqsaba", children: [{id:"manqanai",name:"MaÅ„qanay",level:4,type:"tiyre"},{id:"qaiypnazar",name:"QayÄ±pnazar",level:4,type:"tiyre"},{id:"karaterenshi",name:"Qaraterenshi",level:4,type:"tiyre"},{id:"qalmuart-es",name:"Qalmurat",level:4,type:"tiyre"}] },
                                { id: "qanzhygaly", name: "QANJYÇ´ALY", level: 3, type: "urÄ±w", tamga: "QJ", uran: "Toqsaba", children: [{id:"shanyshpai",name:"ShanÄ±shpay",level:4,type:"tiyre"},{id:"sambet-q",name:"Sambet",level:4,type:"tiyre"},{id:"zhaghaltai",name:"JaÇµaltay",level:4,type:"tiyre"},{id:"baibishe-q",name:"BaybÃ­she",level:4,type:"tiyre",children:[{id:"baibishe-q-kosh",name:"BaybÃ­she",level:5,type:"ko'she"}]}] },
                                { id: "saltyr", name: "SALTYR", level: 3, type: "urÄ±w", tamga: "SL", uran: "Toqsaba", children: [{id:"baibishe-s",name:"BaybÃ­she",level:4,type:"tiyre"},{id:"sart",name:"Sart",level:4,type:"tiyre"},{id:"orazymbet-s",name:"OrazÄ±mbet",level:4,type:"tiyre"},{id:"shuyghan",name:"ShuyÄ±Çµan",level:4,type:"tiyre"}] }
                            ]
                        },
                        {
                            id: "keneges", name: "KENEGES", level: 2, type: "Ãºlken urÄ±w", tamga: "X", uran: "ShawlÄ±-Shawhay",
                            children: [
                                { id: "aranshy", name: "ARANSHY", level: 3, type: "urÄ±w", tamga: "AR", uran: "ShawlÄ±-Shawhay", children: [{id:"annaqul",name:"Annaqul",level:4,type:"tiyre"},{id:"abas-k",name:"Abas",level:4,type:"tiyre",children:[{id:"seitimbet",name:"Seytimbet",level:5,type:"ko'she"}]},{id:"suiin",name:"SÃºyin",level:4,type:"tiyre"},{id:"zhuas",name:"Juwas",level:4,type:"tiyre"},{id:"dauletqargha",name:"DÃ¡wletqarÇµa",level:4,type:"tiyre"},{id:"qaipbergen",name:"QayÄ±pbergen",level:4,type:"tiyre"}] },
                                { id: "aktogyn", name: "AQTOÇ´YN", level: 3, type: "urÄ±w", tamga: "AT", uran: "ShawlÄ±-Shawhay", children: [{id:"nanzhemes",name:"Nanjemes",level:4,type:"tiyre"},{id:"kosher",name:"KÃ³shek",level:4,type:"tiyre"}] },
                                { id: "omir", name: "Ã“MIR", level: 3, type: "urÄ±w", tamga: "Ã“M", uran: "ShawlÄ±-Shawhay", children: [{id:"aqpyshaq",name:"AqpÄ±shaq",level:4,type:"tiyre"},{id:"usaq",name:"Usaq",level:4,type:"tiyre"},{id:"zhel",name:"Jel",level:4,type:"tiyre"},{id:"mynzhyr",name:"MÄ±njÄ±r",level:4,type:"tiyre"},{id:"otemis-o",name:"Ã“temis",level:4,type:"tiyre"}] },
                                { id: "taraqly-ken", name: "TARAQTY", level: 3, type: "urÄ±w", tamga: "TR", uran: "ShawlÄ±-Shawhay", children: [{id:"zhetiqaraghaz",name:"JetiqaraÇµaz",level:4,type:"tiyre",children:[{id:"zheti-kosh",name:"Jetiqara",level:5,type:"ko'she"}]}] },
                                { id: "dobal", name: "DOBAL", level: 3, type: "urÄ±w", tamga: "DB", uran: "ShawlÄ±-Shawhay" },
                                { id: "oymauyt", name: "OYMAWYT", level: 3, type: "urÄ±w", tamga: "OY", uran: "ShawlÄ±-Shawhay", children: [{id:"qara-o",name:"Qara",level:4,type:"tiyre"},{id:"sary-o",name:"SarÄ±",level:4,type:"tiyre",children:[{id:"zhiydeli",name:"Jiydeli",level:5,type:"ko'she"}]},{id:"aq-o",name:"Aq",level:4,type:"tiyre"}] },
                                { id: "dombazqaq", name: "DOMBAZQA", level: 3, type: "urÄ±w", tamga: "DM", uran: "ShawlÄ±-Shawhay" },
                                { id: "nokis", name: "NÃ“KIS", level: 3, type: "urÄ±w", tamga: "NK", uran: "ShawlÄ±-Shawhay", children: [{id:"zhamanzhak",name:"Jamanjaq",level:4,type:"tiyre"},{id:"bozaq",name:"Bozaq",level:4,type:"tiyre"},{id:"altynpyshaq",name:"AltÄ±npyshaq",level:4,type:"tiyre"},{id:"ghobdir",name:"Ç´obdir",level:4,type:"tiyre"}] }
                            ]
                        },
                        {
                            id: "mangyt", name: "MAÅƒÇ´YT", level: 2, type: "Ãºlken urÄ±w", tamga: "f", uran: "ShawlÄ±-Shawhay",
                            children: [
                                { id: "qaratay", name: "QARATAY (Qara)", level: 3, type: "topar", tamga: "QT", uran: "ShawlÄ±-Shawhay", children: [{id:"qaramangyt",name:"QaramaÅ„ÇµÄ±t",level:4,type:"tiyre",children:[{id:"ushbas",name:"Ãšshbas",level:5,type:"ko'she"},{id:"karasiraq-m",name:"QarasÄ±raq",level:5,type:"ko'she"},{id:"aqmangyt",name:"AqmaÅ„ÇµÄ±t",level:5,type:"ko'she"}]},{id:"mamyqshy",name:"MamÄ±qshÄ±",level:4,type:"urÄ±w",children:[{id:"zhetiqurt",name:"Jetiqurt",level:5,type:"ko'she"}]},{id:"kosar-m",name:"Qosar",level:4,type:"urÄ±w",children:[{id:"gubidin",name:"GÃºbidin",level:5,type:"ko'she"}]},{id:"qylqaly",name:"QÄ±lqalÄ±",level:4,type:"tiyre"}] },
                                { id: "sarytay", name: "SARYTAY (SarÄ±)", level: 3, type: "topar", tamga: "ST", uran: "ShawlÄ±-Shawhay", children: [{id:"arshyn",name:"ArshÄ±n",level:4,type:"tiyre"},{id:"zhailyk",name:"JaylÄ±q",level:4,type:"tiyre"},{id:"toqmangyt",name:"ToqmaÅ„ÇµÄ±t",level:4,type:"tiyre"},{id:"arsary",name:"ArsarÄ±",level:4,type:"tiyre"},{id:"tazhzhanlyk",name:"TazjanlÄ±q",level:4,type:"tiyre"},{id:"shuyt",name:"ShÃºyt",level:4,type:"tiyre"},{id:"zhamansha",name:"Jamansha",level:4,type:"tiyre"},{id:"esebii",name:"Esebiy",level:4,type:"tiyre"},{id:"tamgaly-m",name:"TamÇµalÄ±",level:4,type:"tiyre"},{id:"toqmoiyin",name:"ToqmoyÄ±n",level:4,type:"tiyre"},{id:"temirhoja",name:"Temirhoja",level:4,type:"tiyre"}] },
                                { id: "boztay", name: "BOZTAY (Boz)", level: 3, type: "topar", tamga: "BT", uran: "ShawlÄ±-Shawhay", children: [{id:"bozta",name:"Bozta",level:4,type:"tiyre",children:[{id:"bozta-kosh",name:"Bozta",level:5,type:"ko'she"}]}] },
                                { id: "jetimtay", name: "JETIMTAY (Jetim)", level: 3, type: "topar", tamga: "JT", uran: "ShawlÄ±-Shawhay", children: [{id:"eshbuga",name:"EshbuÇµa",level:4,type:"tiyre",children:[{id:"eshbuga-kosh",name:"EshbuÇµa",level:5,type:"ko'she"}]}] }
                            ]
                        }
                    ]
                }
            ]
        };

        const MUYTEN_EXCEPTION = {
            uruuId: 'muyten',
            tiyreIds: ['samat', 'teli', 'abyz-m', 'kentanau'],
            description: 'MÃºyten urÄ±wÄ±nÄ±Å„ tiyrekleri: KeÅ„taÅ„law, Teli, Samat, AbÄ±z'
        };

        let selections = {
            groom: null,
            bride: null
        };

        function getNodePath(nodeId, node = tribeData, path = []) {
            if (node.id === nodeId) {
                return [...path, node];
            }
            if (node.children) {
                for (let child of node.children) {
                    const result = getNodePath(nodeId, child, [...path, node]);
                    if (result) return result;
                }
            }
            return null;
        }

        function findCommonAncestor(path1, path2) {
            let common = null;
            let minLength = Math.min(path1.length, path2.length);
            for (let i = 0; i < minLength; i++) {
                if (path1[i].id === path2[i].id) {
                    common = path1[i];
                } else {
                    break;
                }
            }
            return common;
        }

        function isMuytenException(nodeId) {
            return MUYTEN_EXCEPTION.tiyreIds.includes(nodeId);
        }

        function isMuytenUruu(nodeId) {
            return nodeId === MUYTEN_EXCEPTION.uruuId;
        }

        function checkExogamy() {
            if (!selections.groom || !selections.bride) {
                updateResult('pending');
                return;
            }

            const groomPath = getNodePath(selections.groom);
            const bridePath = getNodePath(selections.bride);

            if (!groomPath || !bridePath) return;

            if (selections.groom === selections.bride) {
                updateResult('forbidden', 'same');
                return;
            }

            const groomLevel = groomPath[groomPath.length - 1].level;
            const brideLevel = bridePath[bridePath.length - 1].level;
            const groomId = groomPath[groomPath.length - 1].id;
            const brideId = bridePath[bridePath.length - 1].id;

            const groomInMuyten = isMuytenException(groomId);
            const brideInMuyten = isMuytenException(brideId);

            if (groomInMuyten && brideInMuyten) {
                updateResult('allowed', 'muyten_exception');
                return;
            }

            const commonAncestor = findCommonAncestor(groomPath, bridePath);

            if (!commonAncestor) {
                updateResult('allowed', 'different');
                return;
            }

            const commonLevel = commonAncestor.level;
            
            if (commonLevel === 5) {
                updateResult('forbidden', 'koshe');
            } else if (commonLevel === 4) {
                updateResult('forbidden', 'tiyre');
            } else if (commonLevel === 3) {
                if (isMuytenUruu(commonAncestor.id)) {
                    if (groomInMuyten || brideInMuyten) {
                        updateResult('allowed', 'muyten_exception');
                    } else {
                        updateResult('forbidden', 'uruu');
                    }
                } else {
                    updateResult('forbidden', 'uruu');
                }
            } else if (commonLevel === 2) {
                updateResult('warning', 'bolim');
            } else if (commonLevel === 1) {
                updateResult('allowed', 'arys');
            } else {
                updateResult('allowed', 'nation');
            }
        }

        function updateResult(status, reason) {
            const panel = document.getElementById('resultPanel');
            const icon = panel.querySelector('.result-icon');
            const title = panel.querySelector('.result-title');
            const desc = panel.querySelector('.result-description');
            const details = document.getElementById('resultDetails');

            panel.className = 'result-panel ' + status;

            const messages = {
                pending: {
                    icon: 'â³',
                    title: 'TaÅ„lawdÄ± kÃºtiw',
                    desc: 'Eki tÃ¡rep te taÅ„laÇµannan soÅ„, nekeniÅ„ mÃºmkinshiligi tekseriledi'
                },
                allowed: {
                    icon: 'âœ…',
                    title: 'NEKEGE RUQSAT',
                    desc: 'Bul urÄ±qlar arasÄ±nda nekelew mÃºmkin!'
                },
                forbidden: {
                    icon: 'âŒ',
                    title: 'NEKE QADAÇ´AN!',
                    desc: 'Bul urÄ±qlar arasÄ±nda nekelew qadaÇµan! (incest)'
                },
                warning: {
                    icon: 'âš ï¸',
                    title: 'DIQQAT',
                    desc: 'Neke mÃºmkin, biraq usÄ±nÄ±s etilmeydi'
                }
            };

            const msg = messages[status];
            icon.textContent = msg.icon;
            title.textContent = msg.title;
            desc.textContent = msg.desc;

            if (status !== 'pending') {
                details.style.display = 'block';
                let detailsHTML = '<h4>ğŸ“‹ Analiz:</h4><ul>';
                
                const groomPath = getNodePath(selections.groom);
                const bridePath = getNodePath(selections.bride);
                
                detailsHTML += '<li><strong>KÃºyew:</strong> ';
                detailsHTML += groomPath.map(n => n.name).join(' â†’ ');
                detailsHTML += '</li>';
                
                detailsHTML += '<li><strong>Kelin:</strong> ';
                detailsHTML += bridePath.map(n => n.name).join(' â†’ ');
                detailsHTML += '</li>';

                const common = findCommonAncestor(groomPath, bridePath);
                if (common && reason !== 'muyten_exception') {
                    detailsHTML += '<li><strong>UlÄ±wma ata:</strong> ' + common.name + ' (' + common.type + ')</li>';
                }

                const reasons = {
                    same: 'SaylanÇµan urÄ±qlar birdey',
                    koshe: 'Bir kÃ³sheniÅ„ ishinde (incest)',
                    tiyre: 'Bir tiyreniÅ„ ishinde (incest)',
                    uruu: 'Bir urÄ±wnÄ±Å„ ishinde (incest)',
                    bolim: 'Bir bÃ³lim ishinde (ShulÄ±q/JauÄ±nÇµÄ±r)',
                    arys: 'Bir arÄ±s ishinde, biraq bÃ³lek qÃ¡wimler',
                    different: 'BÃºtkenley bÃ³lek urÄ±qlar',
                    nation: 'Bir xalÄ±q ishinde',
                    muyten_exception: 'MÃºyten urÄ±wÄ±nÄ±Å„ ayrÄ±qsha jaÇµdayÄ±'
                };
                
                if (reason) {
                    detailsHTML += '<li><strong>Sebep:</strong> ' + reasons[reason] + '</li>';
                }

                if (reason === 'muyten_exception') {
                    detailsHTML += '</ul>';
                    detailsHTML += '<div class="exception-note">';
                    detailsHTML += '<h4>ğŸ’¡ MÃºyten urÄ±wÄ± haqqÄ±ndaÇµÄ± ayrÄ±qsha jaÇµday:</h4>';
                    detailsHTML += '<p>MÃºyten urÄ±wÄ±nÄ±Å„ ishinde KeÅ„tanaw, Teli, Samat hÃ¡m AbÄ±z tiyreleri arasÄ±ndaÇµÄ± nekege ruxsat etiledi. Bul qaraqalpaq dÃ¡stÃºrinde ayrÄ±qsha jaÇµday bolÄ±p tabÄ±ladÄ±.</p>';
                    detailsHTML += '<p><strong>QadaÇµan:</strong> Bir tiyre ishinde (mÄ±salÄ±, Samat-Samat, Teli-Teli) neke qadaÇµan.</p>';
                    detailsHTML += '</div>';
                    detailsHTML += '<h4>ğŸ’¡ UsÄ±nÄ±s:</h4><ul>';
                    detailsHTML += '<li>âœ… Nekege ruxsat</li>';
                    detailsHTML += '<li>â„¹ï¸ MÃºyten urÄ±wÄ±nÄ±Å„ tiyreleri arasÄ±nda nekelew dÃ¡stÃºr boyÄ±nsha qabÄ±llanadÄ±</li>';
                } else {
                    detailsHTML += '</ul><h4>ğŸ’¡ UsÄ±nÄ±s:</h4><ul>';
                    if (status === 'allowed') {
                        detailsHTML += '<li>âœ… Nekege ruxsat</li>';
                        if (reason === 'arys') {
                            detailsHTML += '<li>â„¹ï¸ DÃ¡stÃºr boyÄ±nsha eki bÃ³lek arÄ±stan nekeleniw jaqsÄ±</li>';
                        }
                    } else if (status === 'forbidden') {
                        detailsHTML += '<li>âŒ Bul neke islam hÃ¡m dÃ¡stÃºr boyÄ±nsha qadaÇµan</li>';
                        detailsHTML += '<li>âš ï¸ Basqa urÄ±qtan jup izlew kerek</li>';
                    } else if (status === 'warning') {
                        detailsHTML += '<li>âš ï¸ Neke mÃºmkin, biraq dÃ¡stÃºrge qaray usÄ±nÄ±s etilmeydi</li>';
                        detailsHTML += '<li>ğŸ’­ HÃ¡r qÄ±ylÄ± arÄ±slardan yamasa Ãºlken urÄ±wlardan taÅ„laÇµan jaqsÄ±raq</li>';
                    }
                }
                detailsHTML += '</ul>';

                details.innerHTML = detailsHTML;
            } else {
                details.style.display = 'none';
            }
        }

        function createTreeSelector(containerId, type) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            
            function createNodeElement(node, level = 0) {
                const div = document.createElement('div');
                div.className = 'tree-node';
                
                const item = document.createElement('div');
                item.className = 'tree-item node-level-' + level;
                item.dataset.id = node.id;
                item.dataset.type = type;
                
                let toggleIcon = '';
                if (node.children && node.children.length > 0) {
                    toggleIcon = '<span class="tree-toggle" onclick="toggleNode(event, \'' + node.id + '_' + type + '\')">â–¼</span>';
                } else {
                    toggleIcon = '<span style="width:20px;"></span>';
                }
                
                const levelBadges = ['XalÄ±q', 'ArÄ±s', 'BÃ³lim', 'Uruw', 'Tiyre', 'Ko\'she'];
                const badge = level > 0 ? '<span class="level-badge">' + levelBadges[level] + '</span>' : '';
                
                let specialMark = '';
                if (isMuytenException(node.id)) {
                    specialMark = ' ğŸ’¡';
                }
                
                item.innerHTML = toggleIcon + badge + node.name + specialMark;
                
                item.onclick = function(e) {
                    if (e.target.classList.contains('tree-toggle')) return;
                    selectNode(node, type);
                };
                
                div.appendChild(item);
                
                if (node.children && node.children.length > 0) {
                    const childrenDiv = document.createElement('div');
                    childrenDiv.id = 'children_' + node.id + '_' + type;
                    childrenDiv.style.display = level < 2 ? 'block' : 'none';
                    
                    node.children.forEach(child => {
                        childrenDiv.appendChild(createNodeElement(child, level + 1));
                    });
                    
                    div.appendChild(childrenDiv);
                }
                
                return div;
            }
            
            container.appendChild(createNodeElement(tribeData));
        }

        function toggleNode(event, id) {
            event.stopPropagation();
            const children = document.getElementById('children_' + id);
            const toggle = event.target;
            
            if (children.style.display === 'none') {
                children.style.display = 'block';
                toggle.textContent = 'â–¼';
            } else {
                children.style.display = 'none';
                toggle.textContent = 'â–¶';
            }
        }

        function selectNode(node, type) {
            selections[type] = node.id;
            
            const display = document.getElementById(type + 'Display');
            let displayText = node.name + ' (' + node.type + ')';
            if (isMuytenException(node.id)) {
                displayText += ' [MÃºyten tiyre]';
            }
            display.textContent = displayText;
            display.classList.remove('empty');
            
            document.getElementById(type + 'Clear').classList.add('visible');
            
            document.querySelectorAll('.tree-item[data-type="' + type + '"]').forEach(item => {
                item.classList.remove('selected');
                if (item.dataset.id === node.id) {
                    item.classList.add('selected');
                }
            });
            
            checkExogamy();
        }

        function clearSelection(type) {
            selections[type] = null;
            
            const display = document.getElementById(type + 'Display');
            display.textContent = 'TÃºrdi taÅ„laÅ„';
            display.classList.add('empty');
            
            document.getElementById(type + 'Clear').classList.remove('visible');
            
            document.querySelectorAll('.tree-item[data-type="' + type + '"]').forEach(item => {
                item.classList.remove('selected');
            });
            
            checkExogamy();
        }

        function collapseAll(type) {
            document.querySelectorAll('#' + type + 'Tree [id^="children_"]').forEach(el => {
                el.style.display = 'none';
            });
            document.querySelectorAll('#' + type + 'Tree .tree-toggle').forEach(el => {
                el.textContent = 'â–¶';
            });
        }

        function expandAll(type) {
            document.querySelectorAll('#' + type + 'Tree [id^="children_"]').forEach(el => {
                el.style.display = 'block';
            });
            document.querySelectorAll('#' + type + 'Tree .tree-toggle').forEach(el => {
                el.textContent = 'â–¼';
            });
        }

        document.addEventListener('DOMContentLoaded', function() {
            createTreeSelector('groomTree', 'groom');
            createTreeSelector('brideTree', 'bride');
            
            expandAll('groom');
            expandAll('bride');
        });
    </script>
</body>
</html>